#!/usr/bin/env python
#coding:utf-8

#!/usr/bin/env python
#coding:utf-8

import sys
from optparse import TitledHelpFormatter
reload(sys)
sys.setdefaultencoding('utf-8')

import urllib2
import urllib
import cookielib
import pprint
from bs4 import BeautifulSoup
import re
import lxml
import chardet
#import MySQLdb

SjtuEntryUrl = 'http://www.sjtuce.net/xxpt/jrJxpjLogin.aspx'
SjtuNewUrl = 'http://www.sjtuce.net/xxpt/jrJxpjMainNew.aspx'
reqcookielist = []
user=''
password=''
def sqlexec(sql):
    conn = MySQLdb.connect(host='192.168.202.202',user='yuyc',passwd='123456',db='kq',charset='utf8')
    cursor = conn.cursor()
    sql = sql
    cursor.execute(sql)
    conn.commit()
    cursor.close()
    conn.close()
def getreqcookie(url):
    url = url 
    cookie = cookielib.CookieJar()
    handler = urllib2.HTTPCookieProcessor(cookie)
    #通过handler来构建opener
    opener = urllib2.build_opener(handler)
    #此处的open方法同urllib2的urlopen方法，也可以传入request
    response = opener.open(url)
    for item in cookie:
        tmpstr = item.name+'='+item.value
        reqcookielist.append(tmpstr)
def getlogincookie(user,password):
    getreqcookie(SjtuEntryUrl)
    cookiestr = "".join(reqcookielist)
    user = user
    password = password
    button2 = '.%E7%99%BB++%E5%BD%95.'
    #设置保存cookie的文件，同级目录下的cookie.txt
    filename = 'cookie.txt'
    #声明一个MozillaCookieJar对象实例来保存cookie，之后写入文件
    student_cookie = cookielib.CookieJar()
    #利用urllib2库的HTTPCookieProcessor对象来创建cookie处理器
    handler = urllib2.HTTPCookieProcessor(student_cookie)
    opener = urllib2.build_opener(handler)
    agent = {'Accept':'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8',
    'Accept-Encoding':'gzip, deflate',
    'Accept-Language':'zh-CN,zh;q=0.8,en-US;q=0.5,en;q=0.3',
    'Connection':'keep-alive',
    'Cookie':cookiestr,
    'Host':'www.sjtuce.net',
    'Referer':'http://www.sjtuce.net/xxpt/jrJxpjLogin.aspx',
    'User-Agent':'Mozilla/5.0 (Windows NT 6.1; WOW64; rv:40.0) Gecko/20100101 Firefox/40.0'    
    }
    
    #post内容
    viewstate = '%2FwEPDwUKMTgxMDAxMzg4MA9kFgICAQ9kFgICAw8WAh4Jb25rZXlkb3duBRpTdWJtaXRLZXlDbGljaygnQnV0dG9uMScpO2QYAQUeX19Db250cm9sc1JlcXVpcmVQb3N0QmFja0tleV9fFgEFDGNrYkF1dG9Mb2dpbkN%2FlpSQYNNIE2h4clNDB5iz8Smy3uqwiSFbqZQ1cnue'
    data = '__VIEWSTATE='+viewstate+'&user='+user+'&Password='+password+'&Button2='+button2
    
    login_request = urllib2.Request(SjtuEntryUrl,data)
    req = opener.open(login_request,data)
    return student_cookie
def showscore():
    postdata = '__VIEWSTATE=%2FwEPDwUKLTI0NDU0NDM2MQ9kFgJmD2QWBAIDDw8WAh4EVGV4dAUURlkxNDIyMDA2Myzkuo7popzlt51kZAIFD2QWBgIBD2QWBAIDDxYCHgdWaXNpYmxlaBYCAgMPPCsACwBkAgUPZBYCAgEPZBYCZg9kFgICAw88KwALAQAPFggeCERhdGFLZXlzFgAeC18hSXRlbUNvdW50Zh4JUGFnZUNvdW50AgEeFV8hRGF0YVNvdXJjZUl0ZW1Db3VudGZkZAIFDw8WAh8ABQEwZGQCBg8PFgIfAAWOAeW9k%2BWJjeWtpuacnzoyMDE1LTIwMTYuMSgyMDE1LTA5LTA36IezMjAxNi0wMS0xNynmnKzlkajkuLrnrKwxMiAg5ZGoICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfOePreS4u%2BS7uzrpq5jmhacoNjQ0ODAwMjItMTEwNSlkZGQv9W9AO8UOMZC0rLMVHP%2B%2B0Mx%2FWokQ%2BZZ27oAElPsi6w%3D%3D&_ctl0%3AMainContent%3AButton4=%E6%98%BE%E7%A4%BA%E6%89%80%E6%9C%89%E6%88%90%E7%BB%A9&_ctl0%3Ahid='
    url = 'http://www.sjtuce.net/xxpt/jrJxpjStuCj.aspx'
    cookie = getlogincookie(user,password)
    opener = urllib2.build_opener(urllib2.HTTPCookieProcessor(cookie))
    urllib2.install_opener(opener)
    req = urllib2.urlopen(url,postdata)
    return req
def getscore():
    '''
    postdata = '__EVENTTARGET=_ctl0%24MainContent%24dgNetzy%24_ctl6%24lbtn&__EVENTARGUMENT=&__VIEWSTATE=%2FwEPDwUKLTI0NDU0NDM2MQ9kFgJmD2QWBAIDDw8WAh4EVGV4dAUURlkxNDIyMDA2Myzkuo7popzlt51kZAIFD2QWBgIBD2QWBAIDDxYCHgdWaXNpYmxlaBYCAgMPPCsACwBkAgUPZBYCAgEPZBYCZg9kFgQCAQ8PFgYfAAUiNOS4i%2BihqOS4uuS9oOaJgOacieWtpuacn%2BeahOaIkOe7qR4JRm9yZUNvbG9yCiMeBF8hU0ICBGRkAgMPFCsACw8WCB4IRGF0YUtleXMWAB4LXyFJdGVtQ291bnQCFR4JUGFnZUNvdW50AgEeFV8hRGF0YVNvdXJjZUl0ZW1Db3VudAIVZBQrAAs8KwAEAQIWBB4FV2lkdGgbAAAAAAAAEEAHAAAAHwMCgAI8KwAEAQIWBB8IGwAAAAAAACxABwAAAB8DAoACPCsABAECFgQfCBsAAAAAAAAyQAcAAAAfAwKAAjwrAAQBAhYEHwgbAAAAAAAAJkAHAAAAHwMCgAI8KwAEAQIWBB8IGwAAAAAAACpABwAAAB8DAoACPCsABAECFgQfCBsAAAAAAAAUQAcAAAAfAwKAAjwrAAQBAhYEHwgbAAAAAAAAIEAHAAAAHwMCgAI8KwAEAQIWBB8IGwAAAAAAACBABwAAAB8DAoACPCsABAECFgQfCBsAAAAAAAAzQAcAAAAfAwKAAjwrAAQBAhYEHwgbAAAAAAAAAAAHAAAAHwMCgAJkZGRkZGRkZBYEHwgbAAAAAAAAWUAHAAAAHwMCgAJkFgJmD2QWKgIBD2QWFmYPDxYCHwAFATFkZAIBDw8WAh8ABQsyMDE0LTIwMTUuMmRkAgIPDxYCHwAFLOWkp%2BWtpuiLseivrTEgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGQCAw8PFgIfAAUN5byg5b%2Bg6a2BICAgIGRkAgQPDxYCHwAFEzY0fDB8MHwwICAgICAgICAgICBkZAIFDw8WAh8ABQznvLrogIMgICAgICBkZAIGDw8WAh8ABRbnvLrogIMgICAgICAgICAgICAgICAgZGQCBw8PFgIfAGVkZAIID2QWBAIBDw8WBh8ABUAmbmJzcDs8aW1nIHNyYz1pbWFnZXMvY2hvbmd4aXUtaWNvLnBuZyBhbGlnbj1hYnNtaWRkbGUgYm9yZGVyPTA%2BHg9Db21tYW5kQXJndW1lbnQFBTI5Njc4HgdUb29sVGlwBRLoh6rkuLvlip7nkIbph43kv64WAh4BbQUYKiUyNS5MSyU1Ym50cHpuJTI1LWxrJTdiZAIFDw8WBh8ABT4mbmJzcDs8aW1nIHNyYz1pbWFnZXMveWFua2FvLWljby5wbmcgYWxpZ249YWJzbWlkZGxlIGJvcmRlcj0wPh8JBQUyOTY3OB8KBRLoh6rkuLvlip7nkIblu7bogINkZAIJDw8WAh8ABQYmbmJzcDtkZAIKDw8WAh8ABQUyOTY3OGRkAgIPZBYUZg8PFgIfAAUBMmRkAgEPDxYCHwAFCzIwMTQtMjAxNS4yZGQCAg8PFgIfAAUu6auY57qn5a6e55So6L2v5Lu2ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRkAgMPDxYCHwAFDeiLl%2Ba4heW9sSAgICBkZAIEDw8WAh8ABRMxMnwwfDB8MCAgICAgICAgICAgZGQCBQ8PFgIfAAUM6YCa6L%2BHICAgICAgZGQCBg8PFgIfAAUUICAgICAgICAgICAgICAgICAgICBkZAIHDw8WAh8AZWRkAgkPDxYCHwAFBiZuYnNwO2RkAgoPDxYCHwAFBTI5NjgyZGQCAw9kFhZmDw8WAh8ABQEzZGQCAQ8PFgIfAAULMjAxNC0yMDE1LjJkZAICDw8WAh8ABSznrqHnkIbmlbDlraYgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRkAgMPDxYCHwAFDeWImOaZk%2BaihSAgICBkZAIEDw8WAh8ABRM2NHwwfDB8MCAgICAgICAgICAgZGQCBQ8PFgofAAUKNDQgICAgICAgIB8CCo0BHglGb250X0JvbGRnHglGb250X1NpemUoKiJTeXN0ZW0uV2ViLlVJLldlYkNvbnRyb2xzLkZvbnRVbml0BUxhcmdlHwMChBhkZAIGDw8WAh8ABRQgICAgICAgICAgICAgICAgICAgIGRkAgcPDxYCHwBlZGQCCA9kFgQCAQ8PFgYfAAVAJm5ic3A7PGltZyBzcmM9aW1hZ2VzL2Nob25neGl1LWljby5wbmcgYWxpZ249YWJzbWlkZGxlIGJvcmRlcj0wPh8JBQUyOTY3Nx8KBRLoh6rkuLvlip7nkIbph43kv64WAh8LBRQqJTI1LkxLWm50cHptJTI1LWxremQCAw8PFgYfAAU9Jm5ic3A7PGltZyBzcmM9aW1hZ2VzL2J1a2FvLWljby5wbmcgYWxpZ249YWJzbWlkZGxlIGJvcmRlcj0wPh8JBQUyOTY3Nx8KBRLoh6rkuLvlip7nkIbooaXogINkZAIJDw8WAh8ABQIzIGRkAgoPDxYCHwAFBTI5Njc3ZGQCBA9kFhZmDw8WAh8ABQE0ZGQCAQ8PFgIfAAULMjAxNC0yMDE1LjJkZAICDw8WAh8ABSvnrqHnkIblraYgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGQCAw8PFgIfAAUN6LW15L%2BK5ZKMICAgIGRkAgQPDxYCHwAFEzQ4fDB8MHwwICAgICAgICAgICBkZAIFDw8WAh8ABQo3NCAgICAgICAgZGQCBg8PFgIfAAUUICAgICAgICAgICAgICAgICAgICBkZAIHDw8WAh8AZWRkAggPZBYCAgEPDxYGHwAFQCZuYnNwOzxpbWcgc3JjPWltYWdlcy9jaG9uZ3hpdS1pY28ucG5nIGFsaWduPWFic21pZGRsZSBib3JkZXI9MD4fCQUFMjk2NjkfCgUS6Ieq5Li75Yqe55CG6YeN5L%2BuFgIfCwUYKiUyNS5MSiU1Y250cHlvJTI1LWxqJTdjZAIJDw8WAh8ABQIyIGRkAgoPDxYCHwAFBTI5NjY5ZGQCBQ9kFhRmDw8WAh8ABQE1ZGQCAQ8PFgIfAAULMjAxNS0yMDE2LjFkZAICDw8WAh8ABSzlpKflraboi7Hor60yICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRkAgMPDxYCHwAFDOeOi%2BW5syAgICAgIGRkAgQPDxYCHwAFEzY0fDB8MHwwICAgICAgICAgICBkZAIFDw8WAh8ABQogICAgICAgICAgZGQCBg8PFgIfAAUUICAgICAgICAgICAgICAgICAgICBkZAIHD2QWAgIBDw8WBh8KBR8yMDE1LTIwMTYuMeWkp%2BWtpuiLseivrTIt6ICD5YukHwAFNiZuYnNwOzxpbWcgc3JjPWltYWdlcy9rcS5wbmcgYWxpZ249YWJzbWlkZGxlIGJvcmRlcj0wPh8JBQUyOTY3OWRkAgkPDxYCHwAFBiZuYnNwO2RkAgoPDxYCHwAFBTI5Njc5ZGQCBg9kFhRmDw8WAh8ABQE2ZGQCAQ8PFgIfAAULMjAxNS0yMDE2LjFkZAICDw8WAh8ABSvnu4%2FmtY7lraYgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGQCAw8PFgIfAAUN5b6Q5oWn5aifICAgIGRkAgQPDxYCHwAFEzY0fDB8MHwwICAgICAgICAgICBkZAIFDw8WAh8ABQogICAgICAgICAgZGQCBg8PFgIfAAUUICAgICAgICAgICAgICAgICAgICBkZAIHD2QWAgIBDw8WBh8KBRsyMDE1LTIwMTYuMee7j%2Ba1juWtpi3ogIPli6QfAAU2Jm5ic3A7PGltZyBzcmM9aW1hZ2VzL2txLnBuZyBhbGlnbj1hYnNtaWRkbGUgYm9yZGVyPTA%2BHwkFBTI5NjgwZGQCCQ8PFgIfAAUGJm5ic3A7ZGQCCg8PFgIfAAUFMjk2ODBkZAIHD2QWFGYPDxYCHwAFATdkZAIBDw8WAh8ABQsyMDE1LTIwMTYuMWRkAgIPDxYCHwAFLuS6uuWKm%2Bi1hOa6kOeuoeeQhiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZAIDDw8WAh8ABQ3otbXkv4rlkowgICAgZGQCBA8PFgIfAAUTNDh8MHwwfDAgICAgICAgICAgIGRkAgUPDxYCHwAFCiAgICAgICAgICBkZAIGDw8WAh8ABRQgICAgICAgICAgICAgICAgICAgIGRkAgcPZBYCAgEPDxYGHwoFJDIwMTUtMjAxNi4x5Lq65Yqb6LWE5rqQ566h55CGLeiAg%2BWLpB8ABTYmbmJzcDs8aW1nIHNyYz1pbWFnZXMva3EucG5nIGFsaWduPWFic21pZGRsZSBib3JkZXI9MD4fCQUFMjk2NzBkZAIJDw8WAh8ABQYmbmJzcDtkZAIKDw8WAh8ABQUyOTY3MGRkAggPZBYUZg8PFgIfAAUBOGRkAgEPDxYCHwAFCzIwMTUtMjAxNi4xZGQCAg8PFgIfAAUz5oCd5oOz6YGT5b635L%2Bu5YW75LiO5rOV5b6L5Z%2B656GAICAgICAgICAgICAgICAgICAgZGQCAw8PFgIfAAUN5pyx5riF5p6rICAgIGRkAgQPDxYCHwAFEzEyfDB8MHwwICAgICAgICAgICBkZAIFDw8WAh8ABQogICAgICAgICAgZGQCBg8PFgIfAAUUICAgICAgICAgICAgICAgICAgICBkZAIHD2QWAgIBDw8WBh8KBTMyMDE1LTIwMTYuMeaAneaDs%2BmBk%2BW%2Bt%2BS%2FruWFu%2BS4juazleW%2Bi%2BWfuuehgC3ogIPli6QfAAU2Jm5ic3A7PGltZyBzcmM9aW1hZ2VzL2txLnBuZyBhbGlnbj1hYnNtaWRkbGUgYm9yZGVyPTA%2BHwkFBTI5Njg3ZGQCCQ8PFgIfAAUGJm5ic3A7ZGQCCg8PFgIfAAUFMjk2ODdkZAIJD2QWFGYPDxYCHwAFATlkZAIBDw8WAh8ABQsyMDE1LTIwMTYuMmRkAgIPDxYCHwAFLOi0ouWKoeeuoeeQhiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGQCAw8PFgIfAAUKICAgICAgICAgIGRkAgQPDxYCHwAFEzQ4fDB8MHwwICAgICAgICAgICBkZAIFDw8WAh8ABQogICAgICAgICAgZGQCBg8PFgIfAAUUICAgICAgICAgICAgICAgICAgICBkZAIHDw8WAh8AZWRkAgkPDxYCHwAFBiZuYnNwO2RkAgoPDxYCHwAFBTI5NjY3ZGQCCg9kFhRmDw8WAh8ABQIxMGRkAgEPDxYCHwAFCzIwMTUtMjAxNi4yZGQCAg8PFgIfAAUt6YeR6J6N5a2m5qaC6K66ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGQCAw8PFgIfAAUKICAgICAgICAgIGRkAgQPDxYCHwAFEzQ4fDB8MHwwICAgICAgICAgICBkZAIFDw8WAh8ABQogICAgICAgICAgZGQCBg8PFgIfAAUUICAgICAgICAgICAgICAgICAgICBkZAIHDw8WAh8AZWRkAgkPDxYCHwAFBiZuYnNwO2RkAgoPDxYCHwAFBTI5Njc2ZGQCCw9kFhRmDw8WAh8ABQIxMWRkAgEPDxYCHwAFCzIwMTUtMjAxNi4yZGQCAg8PFgIfAAUy5Lit5Zu95ZWG5Yqh5Z%2B65pys5rOV5b6L5Yi25bqmICAgICAgICAgICAgICAgICAgICBkZAIDDw8WAh8ABQogICAgICAgICAgZGQCBA8PFgIfAAUTNDh8MHwwfDAgICAgICAgICAgIGRkAgUPDxYCHwAFCiAgICAgICAgICBkZAIGDw8WAh8ABRQgICAgICAgICAgICAgICAgICAgIGRkAgcPDxYCHwBlZGQCCQ8PFgIfAAUGJm5ic3A7ZGQCCg8PFgIfAAUFMjk2ODVkZAIMD2QWFGYPDxYCHwAFAjEyZGQCAQ8PFgIfAAULMjAxNi0yMDE3LjFkZAICDw8WAh8ABSzluILlnLrokKXplIAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRkAgMPDxYCHwAFCiAgICAgICAgICBkZAIEDw8WAh8ABRM0OHwwfDB8MCAgICAgICAgICAgZGQCBQ8PFgIfAAUKICAgICAgICAgIGRkAgYPDxYCHwAFFCAgICAgICAgICAgICAgICAgICAgZGQCBw8PFgIfAGVkZAIJDw8WAh8ABQYmbmJzcDtkZAIKDw8WAh8ABQUyOTY4M2RkAg0PZBYUZg8PFgIfAAUCMTNkZAIBDw8WAh8ABQsyMDE2LTIwMTcuMWRkAgIPDxYCHwAFK%2Bi%2FkOetueWtpiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZAIDDw8WAh8ABQogICAgICAgICAgZGQCBA8PFgIfAAUTNDh8MHwwfDAgICAgICAgICAgIGRkAgUPDxYCHwAFCiAgICAgICAgICBkZAIGDw8WAh8ABRQgICAgICAgICAgICAgICAgICAgIGRkAgcPDxYCHwBlZGQCCQ8PFgIfAAUGJm5ic3A7ZGQCCg8PFgIfAAUFMjk2NzFkZAIOD2QWFGYPDxYCHwAFAjE0ZGQCAQ8PFgIfAAULMjAxNi0yMDE3LjFkZAICDw8WAh8ABS3nu4Tnu4fooYzkuLrlraYgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZAIDDw8WAh8ABQogICAgICAgICAgZGQCBA8PFgIfAAUTMzJ8MHwwfDAgICAgICAgICAgIGRkAgUPDxYCHwAFCiAgICAgICAgICBkZAIGDw8WAh8ABRQgICAgICAgICAgICAgICAgICAgIGRkAgcPDxYCHwBlZGQCCQ8PFgIfAAUGJm5ic3A7ZGQCCg8PFgIfAAUFMjk2NzVkZAIPD2QWFGYPDxYCHwAFAjE1ZGQCAQ8PFgIfAAULMjAxNi0yMDE3LjJkZAICDw8WAh8ABS7kvIHkuJrotYTkuqfnu4%2FokKUgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGQCAw8PFgIfAAUKICAgICAgICAgIGRkAgQPDxYCHwAFEzQ4fDB8MHwwICAgICAgICAgICBkZAIFDw8WAh8ABQogICAgICAgICAgZGQCBg8PFgIfAAUUICAgICAgICAgICAgICAgICAgICBkZAIHDw8WAh8AZWRkAgkPDxYCHwAFBiZuYnNwO2RkAgoPDxYCHwAFBTI5NjY4ZGQCEA9kFhRmDw8WAh8ABQIxNmRkAgEPDxYCHwAFCzIwMTYtMjAxNy4yZGQCAg8PFgIfAAUs6aG555uu566h55CGICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZAIDDw8WAh8ABQogICAgICAgICAgZGQCBA8PFgIfAAUTNDh8MHwwfDAgICAgICAgICAgIGRkAgUPDxYCHwAFCiAgICAgICAgICBkZAIGDw8WAh8ABRQgICAgICAgICAgICAgICAgICAgIGRkAgcPDxYCHwBlZGQCCQ8PFgIfAAUGJm5ic3A7ZGQCCg8PFgIfAAUFMjk2NzNkZAIRD2QWFGYPDxYCHwAFAjE3ZGQCAQ8PFgIfAAULMjAxNi0yMDE3LjJkZAICDw8WAh8ABSzlrabmnK%2FlhpnkvZwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRkAgMPDxYCHwAFCiAgICAgICAgICBkZAIEDw8WAh8ABRMxMnwwfDB8MCAgICAgICAgICAgZGQCBQ8PFgIfAAUKICAgICAgICAgIGRkAgYPDxYCHwAFFCAgICAgICAgICAgICAgICAgICAgZGQCBw8PFgIfAGVkZAIJDw8WAh8ABQYmbmJzcDtkZAIKDw8WAh8ABQUyOTY4OWRkAhIPZBYUZg8PFgIfAAUCMThkZAIBDw8WAh8ABQsyMDE2LTIwMTcuMmRkAgIPDxYCHwAFLOi%2FkOiQpeeuoeeQhiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGQCAw8PFgIfAAUKICAgICAgICAgIGRkAgQPDxYCHwAFEzQ4fDB8MHwwICAgICAgICAgICBkZAIFDw8WAh8ABQogICAgICAgICAgZGQCBg8PFgIfAAUUICAgICAgICAgICAgICAgICAgICBkZAIHDw8WAh8AZWRkAgkPDxYCHwAFBiZuYnNwO2RkAgoPDxYCHwAFBTI5NjgxZGQCEw9kFhRmDw8WAh8ABQIxOWRkAgEPDxYCHwAFCzIwMTctMjAxOC4xZGQCAg8PFgIfAAUu5q%2BV5Lia6K6%2B6K6h6K665paHICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRkAgMPDxYCHwAFCiAgICAgICAgICBkZAIEDw8WAh8ABRQwfDB8MHwxMOWRqCAgICAgICAgIGRkAgUPDxYCHwAFCiAgICAgICAgICBkZAIGDw8WAh8ABRQgICAgICAgICAgICAgICAgICAgIGRkAgcPDxYCHwBlZGQCCQ8PFgIfAAUGJm5ic3A7ZGQCCg8PFgIfAAUFMjk2NjZkZAIUD2QWFGYPDxYCHwAFAjIwZGQCAQ8PFgIfAAULMjAxNy0yMDE4LjFkZAICDw8WAh8ABSzmiJjnlaXnrqHnkIYgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRkAgMPDxYCHwAFCiAgICAgICAgICBkZAIEDw8WAh8ABRMzMnwwfDB8MCAgICAgICAgICAgZGQCBQ8PFgIfAAUKICAgICAgICAgIGRkAgYPDxYCHwAFFCAgICAgICAgICAgICAgICAgICAgZGQCBw8PFgIfAGVkZAIJDw8WAh8ABQYmbmJzcDtkZAIKDw8WAh8ABQUyOTY3NGRkAhUPZBYUZg8PFgIfAAUCMjFkZAIBDw8WAh8ABQsyMDE3LTIwMTguMWRkAgIPDxYCHwAFLOS4k%2BmimOiusuW6pyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGQCAw8PFgIfAAUKICAgICAgICAgIGRkAgQPDxYCHwAFEzEyfDB8MHwwICAgICAgICAgICBkZAIFDw8WAh8ABQogICAgICAgICAgZGQCBg8PFgIfAAUUICAgICAgICAgICAgICAgICAgICBkZAIHDw8WAh8AZWRkAgkPDxYCHwAFBiZuYnNwO2RkAgoPDxYCHwAFBTI5Njg4ZGQCBQ8PFgIfAAUBMGRkAgYPDxYCHwAFjgHlvZPliY3lrabmnJ86MjAxNS0yMDE2LjEoMjAxNS0wOS0wN%2BiHszIwMTYtMDEtMTcp5pys5ZGo5Li656ysMTIgIOWRqCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHznj63kuLvku7s66auY5oWnKDY0NDgwMDIyLTExMDUpZGRksPUIYfCnru%2B3gYkRHk%2Bdx1QWb%2BxDZMCv2QfUzUni2gs%3D&_ctl0%3Ahid='
    '''
    postdata = '__EVENTTARGET=_ctl0%24MainContent%24dgNetzy%24_ctl7%24lbtn&__EVENTARGUMENT=&__VIEWSTATE=%2FwEPDwUKLTI0NDU0NDM2MQ9kFgJmD2QWBAIDDw8WAh4EVGV4dAUURlkxNDIyMDA2Myzkuo7popzlt51kZAIFD2QWBgIBD2QWBAIDDxYCHgdWaXNpYmxlZxYEAgEPDxYCHwAFGzIwMTUtMjAxNi4x57uP5rWO5a2mLeiAg%2BWLpGRkAgMPPCsACwEADxYIHghEYXRhS2V5cxYAHgtfIUl0ZW1Db3VudAIDHglQYWdlQ291bnQCAR4VXyFEYXRhU291cmNlSXRlbUNvdW50AgNkFgJmD2QWBgIBD2QWDGYPDxYEHwAFWSZuYnNwOzxpbWcgc3JjPWltYWdlcy95a3EuZ2lmIGFsaWduPWFic21pZGRsZSBib3JkZXI9MD48Zm9udCBjb2xvcj0jMDAwMGZmPuesrDHloII8L2ZvbnQ%2BHgdUb29sVGlwBR3nrKwxIOWRqCzmmJ%2FmnJ%2Fml6UsMjAxNS4wOS4xM2RkAgEPDxYEHwAFWSZuYnNwOzxpbWcgc3JjPWltYWdlcy95a3EuZ2lmIGFsaWduPWFic21pZGRsZSBib3JkZXI9MD48Zm9udCBjb2xvcj0jMDAwMGZmPuesrDLloII8L2ZvbnQ%2BHwYFHeesrDIg5ZGoLOaYn%2Bacn%2BaXpSwyMDE1LjA5LjIwZGQCAg8PFgQfAAVZJm5ic3A7PGltZyBzcmM9aW1hZ2VzL3drcS5naWYgYWxpZ249YWJzbWlkZGxlIGJvcmRlcj0wPjxmb250IGNvbG9yPSMwMDAwZmY%2B56ysM%2BWggjwvZm9udD4fBgUd56ysMyDlkags5pif5pyf5pelLDIwMTUuMDkuMjdkZAIDDw8WBB8ABVkmbmJzcDs8aW1nIHNyYz1pbWFnZXMveWtxLmdpZiBhbGlnbj1hYnNtaWRkbGUgYm9yZGVyPTA%2BPGZvbnQgY29sb3I9IzAwMDBmZj7nrKw05aCCPC9mb250Ph8GBR3nrKw1IOWRqCzmmJ%2FmnJ%2Fml6UsMjAxNS4xMC4xMWRkAgQPDxYEHwAFWSZuYnNwOzxpbWcgc3JjPWltYWdlcy95a3EuZ2lmIGFsaWduPWFic21pZGRsZSBib3JkZXI9MD48Zm9udCBjb2xvcj0jMDAwMGZmPuesrDXloII8L2ZvbnQ%2BHwYFHeesrDYg5ZGoLOaYn%2Bacn%2BaXpSwyMDE1LjEwLjE4ZGQCBQ8PFgQfAAVZJm5ic3A7PGltZyBzcmM9aW1hZ2VzL3lrcS5naWYgYWxpZ249YWJzbWlkZGxlIGJvcmRlcj0wPjxmb250IGNvbG9yPSMwMDAwZmY%2B56ysNuWggjwvZm9udD4fBgUd56ysNyDlkags5pif5pyf5pelLDIwMTUuMTAuMjVkZAICD2QWDGYPDxYEHwAFWSZuYnNwOzxpbWcgc3JjPWltYWdlcy95a3EuZ2lmIGFsaWduPWFic21pZGRsZSBib3JkZXI9MD48Zm9udCBjb2xvcj0jMDAwMGZmPuesrDfloII8L2ZvbnQ%2BHwYFHeesrDgg5ZGoLOaYn%2Bacn%2BaXpSwyMDE1LjExLjAxZGQCAQ8PFgQfAAVZJm5ic3A7PGltZyBzcmM9aW1hZ2VzL3lrcS5naWYgYWxpZ249YWJzbWlkZGxlIGJvcmRlcj0wPjxmb250IGNvbG9yPSMwMDAwZmY%2B56ysOOWggjwvZm9udD4fBgUd56ysOSDlkags5pif5pyf5pelLDIwMTUuMTEuMDhkZAICDw8WBB8ABVkmbmJzcDs8aW1nIHNyYz1pbWFnZXMveWtxLmdpZiBhbGlnbj1hYnNtaWRkbGUgYm9yZGVyPTA%2BPGZvbnQgY29sb3I9IzAwMDBmZj7nrKw55aCCPC9mb250Ph8GBR3nrKwxMOWRqCzmmJ%2FmnJ%2Fml6UsMjAxNS4xMS4xNWRkAgMPDxYEHwAFWiZuYnNwOzxpbWcgc3JjPWltYWdlcy95a3EuZ2lmIGFsaWduPWFic21pZGRsZSBib3JkZXI9MD48Zm9udCBjb2xvcj0jMDAwMGZmPuesrDEw5aCCPC9mb250Ph8GBR3nrKwxMeWRqCzmmJ%2FmnJ%2Fml6UsMjAxNS4xMS4yMmRkAgQPDxYEHwAFWiZuYnNwOzxpbWcgc3JjPWltYWdlcy93a3EuZ2lmIGFsaWduPWFic21pZGRsZSBib3JkZXI9MD48Zm9udCBjb2xvcj0jMDAwMGZmPuesrDEx5aCCPC9mb250Ph8GBR3nrKwxMuWRqCzmmJ%2FmnJ%2Fml6UsMjAxNS4xMS4yOWRkAgUPDxYEHwAFCOesrDEy5aCCHwYFHeesrDEz5ZGoLOaYn%2Bacn%2BaXpSwyMDE1LjEyLjA2ZGQCAw9kFgxmDw8WBB8ABQjnrKwxM%2BWggh8GBR3nrKwxNOWRqCzmmJ%2FmnJ%2Fml6UsMjAxNS4xMi4xM2RkAgEPDxYEHwAFCOesrDE05aCCHwYFHeesrDE15ZGoLOaYn%2Bacn%2BaXpSwyMDE1LjEyLjIwZGQCAg8PFgQfAAUI56ysMTXloIIfBgUd56ysMTblkags5pif5pyf5pelLDIwMTUuMTIuMjdkZAIDDw8WAh8AZWRkAgQPDxYCHwBlZGQCBQ8PFgIfAGVkZAIFD2QWAgIBD2QWAmYPZBYEAgEPDxYGHwAFIjTkuIvooajkuLrkvaDmiYDmnInlrabmnJ%2FnmoTmiJDnu6keCUZvcmVDb2xvcgojHgRfIVNCAgRkZAIDDxQrAAsPFggfAhYAHwMCFR8EAgEfBQIVZBQrAAs8KwAEAQIWBB4FV2lkdGgbAAAAAAAAEEAHAAAAHwgCgAI8KwAEAQIWBB8JGwAAAAAAACxABwAAAB8IAoACPCsABAECFgQfCRsAAAAAAAAyQAcAAAAfCAKAAjwrAAQBAhYEHwkbAAAAAAAAJkAHAAAAHwgCgAI8KwAEAQIWBB8JGwAAAAAAACpABwAAAB8IAoACPCsABAECFgQfCRsAAAAAAAAUQAcAAAAfCAKAAjwrAAQBAhYEHwkbAAAAAAAAIEAHAAAAHwgCgAI8KwAEAQIWBB8JGwAAAAAAACBABwAAAB8IAoACPCsABAECFgQfCRsAAAAAAAAzQAcAAAAfCAKAAjwrAAQBAhYEHwkbAAAAAAAAAAAHAAAAHwgCgAJkZGRkZGRkZBYEHwkbAAAAAAAAWUAHAAAAHwgCgAJkFgJmD2QWKgIBD2QWFmYPDxYCHwAFATFkZAIBDw8WAh8ABQsyMDE0LTIwMTUuMmRkAgIPDxYCHwAFLOWkp%2BWtpuiLseivrTEgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGQCAw8PFgIfAAUN5byg5b%2Bg6a2BICAgIGRkAgQPDxYCHwAFEzY0fDB8MHwwICAgICAgICAgICBkZAIFDw8WAh8ABQznvLrogIMgICAgICBkZAIGDw8WAh8ABRbnvLrogIMgICAgICAgICAgICAgICAgZGQCBw8PFgIfAGVkZAIID2QWBAIBDw8WBh8ABUAmbmJzcDs8aW1nIHNyYz1pbWFnZXMvY2hvbmd4aXUtaWNvLnBuZyBhbGlnbj1hYnNtaWRkbGUgYm9yZGVyPTA%2BHg9Db21tYW5kQXJndW1lbnQFBTI5Njc4HwYFEuiHquS4u%2BWKnueQhumHjeS%2FrhYCHgFtBRgqJTI1LkxLJTVibnRwem4lMjUtbGslN2JkAgUPDxYGHwAFPiZuYnNwOzxpbWcgc3JjPWltYWdlcy95YW5rYW8taWNvLnBuZyBhbGlnbj1hYnNtaWRkbGUgYm9yZGVyPTA%2BHwoFBTI5Njc4HwYFEuiHquS4u%2BWKnueQhuW7tuiAg2RkAgkPDxYCHwAFBiZuYnNwO2RkAgoPDxYCHwAFBTI5Njc4ZGQCAg9kFhRmDw8WAh8ABQEyZGQCAQ8PFgIfAAULMjAxNC0yMDE1LjJkZAICDw8WAh8ABS7pq5jnuqflrp7nlKjova%2Fku7YgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGQCAw8PFgIfAAUN6IuX5riF5b2xICAgIGRkAgQPDxYCHwAFEzEyfDB8MHwwICAgICAgICAgICBkZAIFDw8WAh8ABQzpgJrov4cgICAgICBkZAIGDw8WAh8ABRQgICAgICAgICAgICAgICAgICAgIGRkAgcPDxYCHwBlZGQCCQ8PFgIfAAUGJm5ic3A7ZGQCCg8PFgIfAAUFMjk2ODJkZAIDD2QWFmYPDxYCHwAFATNkZAIBDw8WAh8ABQsyMDE0LTIwMTUuMmRkAgIPDxYCHwAFLOeuoeeQhuaVsOWtpiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGQCAw8PFgIfAAUN5YiY5pmT5qKFICAgIGRkAgQPDxYCHwAFEzY0fDB8MHwwICAgICAgICAgICBkZAIFDw8WCh8ABQo0NCAgICAgICAgHwcKjQEeCUZvbnRfQm9sZGceCUZvbnRfU2l6ZSgqIlN5c3RlbS5XZWIuVUkuV2ViQ29udHJvbHMuRm9udFVuaXQFTGFyZ2UfCAKEGGRkAgYPDxYCHwAFFCAgICAgICAgICAgICAgICAgICAgZGQCBw8PFgIfAGVkZAIID2QWBAIBDw8WBh8ABUAmbmJzcDs8aW1nIHNyYz1pbWFnZXMvY2hvbmd4aXUtaWNvLnBuZyBhbGlnbj1hYnNtaWRkbGUgYm9yZGVyPTA%2BHwoFBTI5Njc3HwYFEuiHquS4u%2BWKnueQhumHjeS%2FrhYCHwsFFColMjUuTEtabnRwem0lMjUtbGt6ZAIDDw8WBh8ABT0mbmJzcDs8aW1nIHNyYz1pbWFnZXMvYnVrYW8taWNvLnBuZyBhbGlnbj1hYnNtaWRkbGUgYm9yZGVyPTA%2BHwoFBTI5Njc3HwYFEuiHquS4u%2BWKnueQhuihpeiAg2RkAgkPDxYCHwAFAjMgZGQCCg8PFgIfAAUFMjk2NzdkZAIED2QWFmYPDxYCHwAFATRkZAIBDw8WAh8ABQsyMDE0LTIwMTUuMmRkAgIPDxYCHwAFK%2BeuoeeQhuWtpiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZAIDDw8WAh8ABQ3otbXkv4rlkowgICAgZGQCBA8PFgIfAAUTNDh8MHwwfDAgICAgICAgICAgIGRkAgUPDxYCHwAFCjc0ICAgICAgICBkZAIGDw8WAh8ABRQgICAgICAgICAgICAgICAgICAgIGRkAgcPDxYCHwBlZGQCCA9kFgICAQ8PFgYfAAVAJm5ic3A7PGltZyBzcmM9aW1hZ2VzL2Nob25neGl1LWljby5wbmcgYWxpZ249YWJzbWlkZGxlIGJvcmRlcj0wPh8KBQUyOTY2OR8GBRLoh6rkuLvlip7nkIbph43kv64WAh8LBRgqJTI1LkxKJTVjbnRweW8lMjUtbGolN2NkAgkPDxYCHwAFAjIgZGQCCg8PFgIfAAUFMjk2NjlkZAIFD2QWFGYPDxYCHwAFATVkZAIBDw8WAh8ABQsyMDE1LTIwMTYuMWRkAgIPDxYCHwAFLOWkp%2BWtpuiLseivrTIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGQCAw8PFgIfAAUM546L5bmzICAgICAgZGQCBA8PFgIfAAUTNjR8MHwwfDAgICAgICAgICAgIGRkAgUPDxYCHwAFCiAgICAgICAgICBkZAIGDw8WAh8ABRQgICAgICAgICAgICAgICAgICAgIGRkAgcPZBYCAgEPDxYGHwYFHzIwMTUtMjAxNi4x5aSn5a2m6Iux6K%2BtMi3ogIPli6QfAAU2Jm5ic3A7PGltZyBzcmM9aW1hZ2VzL2txLnBuZyBhbGlnbj1hYnNtaWRkbGUgYm9yZGVyPTA%2BHwoFBTI5Njc5ZGQCCQ8PFgIfAAUGJm5ic3A7ZGQCCg8PFgIfAAUFMjk2NzlkZAIGD2QWFGYPDxYCHwAFATZkZAIBDw8WAh8ABQsyMDE1LTIwMTYuMWRkAgIPDxYCHwAFK%2Be7j%2Ba1juWtpiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZAIDDw8WAh8ABQ3lvpDmhaflqJ8gICAgZGQCBA8PFgIfAAUTNjR8MHwwfDAgICAgICAgICAgIGRkAgUPDxYCHwAFCiAgICAgICAgICBkZAIGDw8WAh8ABRQgICAgICAgICAgICAgICAgICAgIGRkAgcPZBYCAgEPDxYGHwYFGzIwMTUtMjAxNi4x57uP5rWO5a2mLeiAg%2BWLpB8ABTYmbmJzcDs8aW1nIHNyYz1pbWFnZXMva3EucG5nIGFsaWduPWFic21pZGRsZSBib3JkZXI9MD4fCgUFMjk2ODBkZAIJDw8WAh8ABQYmbmJzcDtkZAIKDw8WAh8ABQUyOTY4MGRkAgcPZBYUZg8PFgIfAAUBN2RkAgEPDxYCHwAFCzIwMTUtMjAxNi4xZGQCAg8PFgIfAAUu5Lq65Yqb6LWE5rqQ566h55CGICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRkAgMPDxYCHwAFDei1teS%2FiuWSjCAgICBkZAIEDw8WAh8ABRM0OHwwfDB8MCAgICAgICAgICAgZGQCBQ8PFgIfAAUKICAgICAgICAgIGRkAgYPDxYCHwAFFCAgICAgICAgICAgICAgICAgICAgZGQCBw9kFgICAQ8PFgYfBgUkMjAxNS0yMDE2LjHkurrlipvotYTmupDnrqHnkIYt6ICD5YukHwAFNiZuYnNwOzxpbWcgc3JjPWltYWdlcy9rcS5wbmcgYWxpZ249YWJzbWlkZGxlIGJvcmRlcj0wPh8KBQUyOTY3MGRkAgkPDxYCHwAFBiZuYnNwO2RkAgoPDxYCHwAFBTI5NjcwZGQCCA9kFhRmDw8WAh8ABQE4ZGQCAQ8PFgIfAAULMjAxNS0yMDE2LjFkZAICDw8WAh8ABTPmgJ3mg7PpgZPlvrfkv67lhbvkuI7ms5Xlvovln7rnoYAgICAgICAgICAgICAgICAgICBkZAIDDw8WAh8ABQ3mnLHmuIXmnqsgICAgZGQCBA8PFgIfAAUTMTJ8MHwwfDAgICAgICAgICAgIGRkAgUPDxYCHwAFCiAgICAgICAgICBkZAIGDw8WAh8ABRQgICAgICAgICAgICAgICAgICAgIGRkAgcPZBYCAgEPDxYGHwYFMzIwMTUtMjAxNi4x5oCd5oOz6YGT5b635L%2Bu5YW75LiO5rOV5b6L5Z%2B656GALeiAg%2BWLpB8ABTYmbmJzcDs8aW1nIHNyYz1pbWFnZXMva3EucG5nIGFsaWduPWFic21pZGRsZSBib3JkZXI9MD4fCgUFMjk2ODdkZAIJDw8WAh8ABQYmbmJzcDtkZAIKDw8WAh8ABQUyOTY4N2RkAgkPZBYUZg8PFgIfAAUBOWRkAgEPDxYCHwAFCzIwMTUtMjAxNi4yZGQCAg8PFgIfAAUs6LSi5Yqh566h55CGICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZAIDDw8WAh8ABQogICAgICAgICAgZGQCBA8PFgIfAAUTNDh8MHwwfDAgICAgICAgICAgIGRkAgUPDxYCHwAFCiAgICAgICAgICBkZAIGDw8WAh8ABRQgICAgICAgICAgICAgICAgICAgIGRkAgcPDxYCHwBlZGQCCQ8PFgIfAAUGJm5ic3A7ZGQCCg8PFgIfAAUFMjk2NjdkZAIKD2QWFGYPDxYCHwAFAjEwZGQCAQ8PFgIfAAULMjAxNS0yMDE2LjJkZAICDw8WAh8ABS3ph5Hono3lrabmpoLorrogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZAIDDw8WAh8ABQogICAgICAgICAgZGQCBA8PFgIfAAUTNDh8MHwwfDAgICAgICAgICAgIGRkAgUPDxYCHwAFCiAgICAgICAgICBkZAIGDw8WAh8ABRQgICAgICAgICAgICAgICAgICAgIGRkAgcPDxYCHwBlZGQCCQ8PFgIfAAUGJm5ic3A7ZGQCCg8PFgIfAAUFMjk2NzZkZAILD2QWFGYPDxYCHwAFAjExZGQCAQ8PFgIfAAULMjAxNS0yMDE2LjJkZAICDw8WAh8ABTLkuK3lm73llYbliqHln7rmnKzms5XlvovliLbluqYgICAgICAgICAgICAgICAgICAgIGRkAgMPDxYCHwAFCiAgICAgICAgICBkZAIEDw8WAh8ABRM0OHwwfDB8MCAgICAgICAgICAgZGQCBQ8PFgIfAAUKICAgICAgICAgIGRkAgYPDxYCHwAFFCAgICAgICAgICAgICAgICAgICAgZGQCBw8PFgIfAGVkZAIJDw8WAh8ABQYmbmJzcDtkZAIKDw8WAh8ABQUyOTY4NWRkAgwPZBYUZg8PFgIfAAUCMTJkZAIBDw8WAh8ABQsyMDE2LTIwMTcuMWRkAgIPDxYCHwAFLOW4guWcuuiQpemUgCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGQCAw8PFgIfAAUKICAgICAgICAgIGRkAgQPDxYCHwAFEzQ4fDB8MHwwICAgICAgICAgICBkZAIFDw8WAh8ABQogICAgICAgICAgZGQCBg8PFgIfAAUUICAgICAgICAgICAgICAgICAgICBkZAIHDw8WAh8AZWRkAgkPDxYCHwAFBiZuYnNwO2RkAgoPDxYCHwAFBTI5NjgzZGQCDQ9kFhRmDw8WAh8ABQIxM2RkAgEPDxYCHwAFCzIwMTYtMjAxNy4xZGQCAg8PFgIfAAUr6L%2BQ56255a2mICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRkAgMPDxYCHwAFCiAgICAgICAgICBkZAIEDw8WAh8ABRM0OHwwfDB8MCAgICAgICAgICAgZGQCBQ8PFgIfAAUKICAgICAgICAgIGRkAgYPDxYCHwAFFCAgICAgICAgICAgICAgICAgICAgZGQCBw8PFgIfAGVkZAIJDw8WAh8ABQYmbmJzcDtkZAIKDw8WAh8ABQUyOTY3MWRkAg4PZBYUZg8PFgIfAAUCMTRkZAIBDw8WAh8ABQsyMDE2LTIwMTcuMWRkAgIPDxYCHwAFLee7hOe7h%2BihjOS4uuWtpiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRkAgMPDxYCHwAFCiAgICAgICAgICBkZAIEDw8WAh8ABRMzMnwwfDB8MCAgICAgICAgICAgZGQCBQ8PFgIfAAUKICAgICAgICAgIGRkAgYPDxYCHwAFFCAgICAgICAgICAgICAgICAgICAgZGQCBw8PFgIfAGVkZAIJDw8WAh8ABQYmbmJzcDtkZAIKDw8WAh8ABQUyOTY3NWRkAg8PZBYUZg8PFgIfAAUCMTVkZAIBDw8WAh8ABQsyMDE2LTIwMTcuMmRkAgIPDxYCHwAFLuS8geS4mui1hOS6p%2Be7j%2BiQpSAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZAIDDw8WAh8ABQogICAgICAgICAgZGQCBA8PFgIfAAUTNDh8MHwwfDAgICAgICAgICAgIGRkAgUPDxYCHwAFCiAgICAgICAgICBkZAIGDw8WAh8ABRQgICAgICAgICAgICAgICAgICAgIGRkAgcPDxYCHwBlZGQCCQ8PFgIfAAUGJm5ic3A7ZGQCCg8PFgIfAAUFMjk2NjhkZAIQD2QWFGYPDxYCHwAFAjE2ZGQCAQ8PFgIfAAULMjAxNi0yMDE3LjJkZAICDw8WAh8ABSzpobnnm67nrqHnkIYgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRkAgMPDxYCHwAFCiAgICAgICAgICBkZAIEDw8WAh8ABRM0OHwwfDB8MCAgICAgICAgICAgZGQCBQ8PFgIfAAUKICAgICAgICAgIGRkAgYPDxYCHwAFFCAgICAgICAgICAgICAgICAgICAgZGQCBw8PFgIfAGVkZAIJDw8WAh8ABQYmbmJzcDtkZAIKDw8WAh8ABQUyOTY3M2RkAhEPZBYUZg8PFgIfAAUCMTdkZAIBDw8WAh8ABQsyMDE2LTIwMTcuMmRkAgIPDxYCHwAFLOWtpuacr%2BWGmeS9nCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGQCAw8PFgIfAAUKICAgICAgICAgIGRkAgQPDxYCHwAFEzEyfDB8MHwwICAgICAgICAgICBkZAIFDw8WAh8ABQogICAgICAgICAgZGQCBg8PFgIfAAUUICAgICAgICAgICAgICAgICAgICBkZAIHDw8WAh8AZWRkAgkPDxYCHwAFBiZuYnNwO2RkAgoPDxYCHwAFBTI5Njg5ZGQCEg9kFhRmDw8WAh8ABQIxOGRkAgEPDxYCHwAFCzIwMTYtMjAxNy4yZGQCAg8PFgIfAAUs6L%2BQ6JCl566h55CGICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZAIDDw8WAh8ABQogICAgICAgICAgZGQCBA8PFgIfAAUTNDh8MHwwfDAgICAgICAgICAgIGRkAgUPDxYCHwAFCiAgICAgICAgICBkZAIGDw8WAh8ABRQgICAgICAgICAgICAgICAgICAgIGRkAgcPDxYCHwBlZGQCCQ8PFgIfAAUGJm5ic3A7ZGQCCg8PFgIfAAUFMjk2ODFkZAITD2QWFGYPDxYCHwAFAjE5ZGQCAQ8PFgIfAAULMjAxNy0yMDE4LjFkZAICDw8WAh8ABS7mr5XkuJrorr7orqHorrrmlocgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGQCAw8PFgIfAAUKICAgICAgICAgIGRkAgQPDxYCHwAFFDB8MHwwfDEw5ZGoICAgICAgICAgZGQCBQ8PFgIfAAUKICAgICAgICAgIGRkAgYPDxYCHwAFFCAgICAgICAgICAgICAgICAgICAgZGQCBw8PFgIfAGVkZAIJDw8WAh8ABQYmbmJzcDtkZAIKDw8WAh8ABQUyOTY2NmRkAhQPZBYUZg8PFgIfAAUCMjBkZAIBDw8WAh8ABQsyMDE3LTIwMTguMWRkAgIPDxYCHwAFLOaImOeVpeeuoeeQhiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGQCAw8PFgIfAAUKICAgICAgICAgIGRkAgQPDxYCHwAFEzMyfDB8MHwwICAgICAgICAgICBkZAIFDw8WAh8ABQogICAgICAgICAgZGQCBg8PFgIfAAUUICAgICAgICAgICAgICAgICAgICBkZAIHDw8WAh8AZWRkAgkPDxYCHwAFBiZuYnNwO2RkAgoPDxYCHwAFBTI5Njc0ZGQCFQ9kFhRmDw8WAh8ABQIyMWRkAgEPDxYCHwAFCzIwMTctMjAxOC4xZGQCAg8PFgIfAAUs5LiT6aKY6K6y5bqnICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZAIDDw8WAh8ABQogICAgICAgICAgZGQCBA8PFgIfAAUTMTJ8MHwwfDAgICAgICAgICAgIGRkAgUPDxYCHwAFCiAgICAgICAgICBkZAIGDw8WAh8ABRQgICAgICAgICAgICAgICAgICAgIGRkAgcPDxYCHwBlZGQCCQ8PFgIfAAUGJm5ic3A7ZGQCCg8PFgIfAAUFMjk2ODhkZAIFDw8WAh8ABQEwZGQCBg8PFgIfAAWOAeW9k%2BWJjeWtpuacnzoyMDE1LTIwMTYuMSgyMDE1LTA5LTA36IezMjAxNi0wMS0xNynmnKzlkajkuLrnrKwxMyAg5ZGoICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfOePreS4u%2BS7uzrpq5jmhacoNjQ0ODAwMjItMTEwNSlkZGSPZN5bzNEkjdn1TlrS%2Boj%2BVWn%2BeCoK1uyuLtXTeAPxQA%3D%3D&_ctl0%3Ahid='
    url = 'http://www.sjtuce.net/xxpt/jrJxpjStuCj.aspx'
    cookie = getlogincookie(user,password)
    opener = urllib2.build_opener(urllib2.HTTPCookieProcessor(cookie))
    urllib2.install_opener(opener)
    req = urllib2.urlopen(url,postdata)
    contents = req.read()
    soup = BeautifulSoup(contents,'lxml')
    for td in soup.find_all(name='td'):
        title = td.attrs.get('title')
        if not title:
            continue
        print title
        v1 = td.find(name='img')
        src = ''
        if v1:
            src = v1.attrs.get('src')
        print src
def getst():
    postdata = '__EVENTTARGET=&__EVENTARGUMENT=&__LASTFOCUS=&__VIEWSTATE=%2FwEPDwUKMTkyNDkzMjQ0NQ9kFgJmD2QWBAIDDw8WAh4EVGV4dAUURlkxNDIyMDA2Myzkuo7popzlt51kZAIFD2QWBgIBD2QWBgICDxBkDxYBZhYBEAULMjAxNS0yMDE2LjEFCzIwMTUtMjAxNi4xZ2RkAgYPEGQQFQQT5b6Q5oWn5aifLee7j%2Ba1juWtpivmnLHmuIXmnqst5oCd5oOz6YGT5b635L%2Bu5YW75LiO5rOV5b6L5Z%2B656GAFOeOi%2BW5sy3lpKflraboi7Hor60yHOi1teS%2FiuWSjC3kurrlipvotYTmupDnrqHnkIYVBBAxNTE2MTAzOSAgfDI5NjgwEDE1MTYxMDE0ICB8Mjk2ODcQMTUxNjEwMDIgIHwyOTY3ORAxNTE2MTAzNSAgfDI5NjcwFCsDBGdnZ2dkZAIKDzwrAAsAZAIFDw8WAh8ABQEwZGQCBg8PFgIfAAWOAeW9k%2BWJjeWtpuacnzoyMDE1LTIwMTYuMSgyMDE1LTA5LTA36IezMjAxNi0wMS0xNynmnKzlkajkuLrnrKwxMyAg5ZGoICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfOePreS4u%2BS7uzrpq5jmhacoNjQ0ODAwMjItMTEwNSlkZGSlzRtROgp16LU1R6%2FtV0u08rLywtXF7LkYnohnoz%2F4VQ%3D%3D&_ctl0%3AMainContent%3Am_cbxXueqi=2015-2016.1&_ctl0%3AMainContent%3AdplKc=15161039++%7C29680&_ctl0%3AMainContent%3AButton4=%E6%98%BE%E7%A4%BA&_ctl0%3Ahid='
    url = 'http://www.sjtuce.net/xxpt/jrJxpjVideoFtp.aspx'
    cookie = getlogincookie(user,password)
    opener = urllib2.build_opener(urllib2.HTTPCookieProcessor(cookie))
    urllib2.install_opener(opener)
    req = urllib2.urlopen(url,postdata)

    contents = req.read()
    soup = BeautifulSoup(contents,'lxml')


    tmp = soup.find_all('tr',{'class':'dg_item'})
    print tmp

'''
    for tr in tmp:
        id = int(tr.find_all('td')[0].string.strip())
        schooltime = int(''.join(tr.find_all('td')[1].string.split(' ')[0].split('/')))
        title = tr.find_all('td')[2].string.split('(')[0].strip()
        aList = tr.find_all('a')
        download1 = aList[0].attrs.get('href').split('\'')[1].strip()
        download2 = aList[1].attrs.get('href').split('\'')[1].strip()
        sql = "insert into course(uid,schooltime,title,download1,download2) values (%d,%d,'%s','%s','%s');"% (id,schooltime,title,download1,download2)
        sqlexec(sql)
'''
def getwkq():
    postdata = '__EVENTTARGET=_ctl0%24MainContent%24dgNetzy%24_ctl7%24lbtn&__EVENTARGUMENT=&__VIEWSTATE=%2FwEPDwUKLTI0NDU0NDM2MQ9kFgJmD2QWBAIDDw8WAh4EVGV4dAUURlkxNDIyMDA2Myzkuo7popzlt51kZAIFD2QWBgIBD2QWBAIDDxYCHgdWaXNpYmxlZxYEAgEPDxYCHwAFGzIwMTUtMjAxNi4x57uP5rWO5a2mLeiAg%2BWLpGRkAgMPPCsACwEADxYIHghEYXRhS2V5cxYAHgtfIUl0ZW1Db3VudAIDHglQYWdlQ291bnQCAR4VXyFEYXRhU291cmNlSXRlbUNvdW50AgNkFgJmD2QWBgIBD2QWDGYPDxYEHwAFWSZuYnNwOzxpbWcgc3JjPWltYWdlcy95a3EuZ2lmIGFsaWduPWFic21pZGRsZSBib3JkZXI9MD48Zm9udCBjb2xvcj0jMDAwMGZmPuesrDHloII8L2ZvbnQ%2BHgdUb29sVGlwBR3nrKwxIOWRqCzmmJ%2FmnJ%2Fml6UsMjAxNS4wOS4xM2RkAgEPDxYEHwAFWSZuYnNwOzxpbWcgc3JjPWltYWdlcy95a3EuZ2lmIGFsaWduPWFic21pZGRsZSBib3JkZXI9MD48Zm9udCBjb2xvcj0jMDAwMGZmPuesrDLloII8L2ZvbnQ%2BHwYFHeesrDIg5ZGoLOaYn%2Bacn%2BaXpSwyMDE1LjA5LjIwZGQCAg8PFgQfAAVZJm5ic3A7PGltZyBzcmM9aW1hZ2VzL3drcS5naWYgYWxpZ249YWJzbWlkZGxlIGJvcmRlcj0wPjxmb250IGNvbG9yPSMwMDAwZmY%2B56ysM%2BWggjwvZm9udD4fBgUd56ysMyDlkags5pif5pyf5pelLDIwMTUuMDkuMjdkZAIDDw8WBB8ABVkmbmJzcDs8aW1nIHNyYz1pbWFnZXMveWtxLmdpZiBhbGlnbj1hYnNtaWRkbGUgYm9yZGVyPTA%2BPGZvbnQgY29sb3I9IzAwMDBmZj7nrKw05aCCPC9mb250Ph8GBR3nrKw1IOWRqCzmmJ%2FmnJ%2Fml6UsMjAxNS4xMC4xMWRkAgQPDxYEHwAFWSZuYnNwOzxpbWcgc3JjPWltYWdlcy95a3EuZ2lmIGFsaWduPWFic21pZGRsZSBib3JkZXI9MD48Zm9udCBjb2xvcj0jMDAwMGZmPuesrDXloII8L2ZvbnQ%2BHwYFHeesrDYg5ZGoLOaYn%2Bacn%2BaXpSwyMDE1LjEwLjE4ZGQCBQ8PFgQfAAVZJm5ic3A7PGltZyBzcmM9aW1hZ2VzL3lrcS5naWYgYWxpZ249YWJzbWlkZGxlIGJvcmRlcj0wPjxmb250IGNvbG9yPSMwMDAwZmY%2B56ysNuWggjwvZm9udD4fBgUd56ysNyDlkags5pif5pyf5pelLDIwMTUuMTAuMjVkZAICD2QWDGYPDxYEHwAFWSZuYnNwOzxpbWcgc3JjPWltYWdlcy95a3EuZ2lmIGFsaWduPWFic21pZGRsZSBib3JkZXI9MD48Zm9udCBjb2xvcj0jMDAwMGZmPuesrDfloII8L2ZvbnQ%2BHwYFHeesrDgg5ZGoLOaYn%2Bacn%2BaXpSwyMDE1LjExLjAxZGQCAQ8PFgQfAAVZJm5ic3A7PGltZyBzcmM9aW1hZ2VzL3lrcS5naWYgYWxpZ249YWJzbWlkZGxlIGJvcmRlcj0wPjxmb250IGNvbG9yPSMwMDAwZmY%2B56ysOOWggjwvZm9udD4fBgUd56ysOSDlkags5pif5pyf5pelLDIwMTUuMTEuMDhkZAICDw8WBB8ABVkmbmJzcDs8aW1nIHNyYz1pbWFnZXMveWtxLmdpZiBhbGlnbj1hYnNtaWRkbGUgYm9yZGVyPTA%2BPGZvbnQgY29sb3I9IzAwMDBmZj7nrKw55aCCPC9mb250Ph8GBR3nrKwxMOWRqCzmmJ%2FmnJ%2Fml6UsMjAxNS4xMS4xNWRkAgMPDxYEHwAFWiZuYnNwOzxpbWcgc3JjPWltYWdlcy95a3EuZ2lmIGFsaWduPWFic21pZGRsZSBib3JkZXI9MD48Zm9udCBjb2xvcj0jMDAwMGZmPuesrDEw5aCCPC9mb250Ph8GBR3nrKwxMeWRqCzmmJ%2FmnJ%2Fml6UsMjAxNS4xMS4yMmRkAgQPDxYEHwAFWiZuYnNwOzxpbWcgc3JjPWltYWdlcy93a3EuZ2lmIGFsaWduPWFic21pZGRsZSBib3JkZXI9MD48Zm9udCBjb2xvcj0jMDAwMGZmPuesrDEx5aCCPC9mb250Ph8GBR3nrKwxMuWRqCzmmJ%2FmnJ%2Fml6UsMjAxNS4xMS4yOWRkAgUPDxYEHwAFCOesrDEy5aCCHwYFHeesrDEz5ZGoLOaYn%2Bacn%2BaXpSwyMDE1LjEyLjA2ZGQCAw9kFgxmDw8WBB8ABQjnrKwxM%2BWggh8GBR3nrKwxNOWRqCzmmJ%2FmnJ%2Fml6UsMjAxNS4xMi4xM2RkAgEPDxYEHwAFCOesrDE05aCCHwYFHeesrDE15ZGoLOaYn%2Bacn%2BaXpSwyMDE1LjEyLjIwZGQCAg8PFgQfAAUI56ysMTXloIIfBgUd56ysMTblkags5pif5pyf5pelLDIwMTUuMTIuMjdkZAIDDw8WAh8AZWRkAgQPDxYCHwBlZGQCBQ8PFgIfAGVkZAIFD2QWAgIBD2QWAmYPZBYEAgEPDxYGHwAFIjTkuIvooajkuLrkvaDmiYDmnInlrabmnJ%2FnmoTmiJDnu6keCUZvcmVDb2xvcgojHgRfIVNCAgRkZAIDDxQrAAsPFggfAhYAHwMCFR8EAgEfBQIVZBQrAAs8KwAEAQIWBB4FV2lkdGgbAAAAAAAAEEAHAAAAHwgCgAI8KwAEAQIWBB8JGwAAAAAAACxABwAAAB8IAoACPCsABAECFgQfCRsAAAAAAAAyQAcAAAAfCAKAAjwrAAQBAhYEHwkbAAAAAAAAJkAHAAAAHwgCgAI8KwAEAQIWBB8JGwAAAAAAACpABwAAAB8IAoACPCsABAECFgQfCRsAAAAAAAAUQAcAAAAfCAKAAjwrAAQBAhYEHwkbAAAAAAAAIEAHAAAAHwgCgAI8KwAEAQIWBB8JGwAAAAAAACBABwAAAB8IAoACPCsABAECFgQfCRsAAAAAAAAzQAcAAAAfCAKAAjwrAAQBAhYEHwkbAAAAAAAAAAAHAAAAHwgCgAJkZGRkZGRkZBYEHwkbAAAAAAAAWUAHAAAAHwgCgAJkFgJmD2QWKgIBD2QWFmYPDxYCHwAFATFkZAIBDw8WAh8ABQsyMDE0LTIwMTUuMmRkAgIPDxYCHwAFLOWkp%2BWtpuiLseivrTEgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGQCAw8PFgIfAAUN5byg5b%2Bg6a2BICAgIGRkAgQPDxYCHwAFEzY0fDB8MHwwICAgICAgICAgICBkZAIFDw8WAh8ABQznvLrogIMgICAgICBkZAIGDw8WAh8ABRbnvLrogIMgICAgICAgICAgICAgICAgZGQCBw8PFgIfAGVkZAIID2QWBAIBDw8WBh8ABUAmbmJzcDs8aW1nIHNyYz1pbWFnZXMvY2hvbmd4aXUtaWNvLnBuZyBhbGlnbj1hYnNtaWRkbGUgYm9yZGVyPTA%2BHg9Db21tYW5kQXJndW1lbnQFBTI5Njc4HwYFEuiHquS4u%2BWKnueQhumHjeS%2FrhYCHgFtBRgqJTI1LkxLJTVibnRwem4lMjUtbGslN2JkAgUPDxYGHwAFPiZuYnNwOzxpbWcgc3JjPWltYWdlcy95YW5rYW8taWNvLnBuZyBhbGlnbj1hYnNtaWRkbGUgYm9yZGVyPTA%2BHwoFBTI5Njc4HwYFEuiHquS4u%2BWKnueQhuW7tuiAg2RkAgkPDxYCHwAFBiZuYnNwO2RkAgoPDxYCHwAFBTI5Njc4ZGQCAg9kFhRmDw8WAh8ABQEyZGQCAQ8PFgIfAAULMjAxNC0yMDE1LjJkZAICDw8WAh8ABS7pq5jnuqflrp7nlKjova%2Fku7YgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGQCAw8PFgIfAAUN6IuX5riF5b2xICAgIGRkAgQPDxYCHwAFEzEyfDB8MHwwICAgICAgICAgICBkZAIFDw8WAh8ABQzpgJrov4cgICAgICBkZAIGDw8WAh8ABRQgICAgICAgICAgICAgICAgICAgIGRkAgcPDxYCHwBlZGQCCQ8PFgIfAAUGJm5ic3A7ZGQCCg8PFgIfAAUFMjk2ODJkZAIDD2QWFmYPDxYCHwAFATNkZAIBDw8WAh8ABQsyMDE0LTIwMTUuMmRkAgIPDxYCHwAFLOeuoeeQhuaVsOWtpiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGQCAw8PFgIfAAUN5YiY5pmT5qKFICAgIGRkAgQPDxYCHwAFEzY0fDB8MHwwICAgICAgICAgICBkZAIFDw8WCh8ABQo0NCAgICAgICAgHwcKjQEeCUZvbnRfQm9sZGceCUZvbnRfU2l6ZSgqIlN5c3RlbS5XZWIuVUkuV2ViQ29udHJvbHMuRm9udFVuaXQFTGFyZ2UfCAKEGGRkAgYPDxYCHwAFFCAgICAgICAgICAgICAgICAgICAgZGQCBw8PFgIfAGVkZAIID2QWBAIBDw8WBh8ABUAmbmJzcDs8aW1nIHNyYz1pbWFnZXMvY2hvbmd4aXUtaWNvLnBuZyBhbGlnbj1hYnNtaWRkbGUgYm9yZGVyPTA%2BHwoFBTI5Njc3HwYFEuiHquS4u%2BWKnueQhumHjeS%2FrhYCHwsFFColMjUuTEtabnRwem0lMjUtbGt6ZAIDDw8WBh8ABT0mbmJzcDs8aW1nIHNyYz1pbWFnZXMvYnVrYW8taWNvLnBuZyBhbGlnbj1hYnNtaWRkbGUgYm9yZGVyPTA%2BHwoFBTI5Njc3HwYFEuiHquS4u%2BWKnueQhuihpeiAg2RkAgkPDxYCHwAFAjMgZGQCCg8PFgIfAAUFMjk2NzdkZAIED2QWFmYPDxYCHwAFATRkZAIBDw8WAh8ABQsyMDE0LTIwMTUuMmRkAgIPDxYCHwAFK%2BeuoeeQhuWtpiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZAIDDw8WAh8ABQ3otbXkv4rlkowgICAgZGQCBA8PFgIfAAUTNDh8MHwwfDAgICAgICAgICAgIGRkAgUPDxYCHwAFCjc0ICAgICAgICBkZAIGDw8WAh8ABRQgICAgICAgICAgICAgICAgICAgIGRkAgcPDxYCHwBlZGQCCA9kFgICAQ8PFgYfAAVAJm5ic3A7PGltZyBzcmM9aW1hZ2VzL2Nob25neGl1LWljby5wbmcgYWxpZ249YWJzbWlkZGxlIGJvcmRlcj0wPh8KBQUyOTY2OR8GBRLoh6rkuLvlip7nkIbph43kv64WAh8LBRgqJTI1LkxKJTVjbnRweW8lMjUtbGolN2NkAgkPDxYCHwAFAjIgZGQCCg8PFgIfAAUFMjk2NjlkZAIFD2QWFGYPDxYCHwAFATVkZAIBDw8WAh8ABQsyMDE1LTIwMTYuMWRkAgIPDxYCHwAFLOWkp%2BWtpuiLseivrTIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGQCAw8PFgIfAAUM546L5bmzICAgICAgZGQCBA8PFgIfAAUTNjR8MHwwfDAgICAgICAgICAgIGRkAgUPDxYCHwAFCiAgICAgICAgICBkZAIGDw8WAh8ABRQgICAgICAgICAgICAgICAgICAgIGRkAgcPZBYCAgEPDxYGHwYFHzIwMTUtMjAxNi4x5aSn5a2m6Iux6K%2BtMi3ogIPli6QfAAU2Jm5ic3A7PGltZyBzcmM9aW1hZ2VzL2txLnBuZyBhbGlnbj1hYnNtaWRkbGUgYm9yZGVyPTA%2BHwoFBTI5Njc5ZGQCCQ8PFgIfAAUGJm5ic3A7ZGQCCg8PFgIfAAUFMjk2NzlkZAIGD2QWFGYPDxYCHwAFATZkZAIBDw8WAh8ABQsyMDE1LTIwMTYuMWRkAgIPDxYCHwAFK%2Be7j%2Ba1juWtpiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZAIDDw8WAh8ABQ3lvpDmhaflqJ8gICAgZGQCBA8PFgIfAAUTNjR8MHwwfDAgICAgICAgICAgIGRkAgUPDxYCHwAFCiAgICAgICAgICBkZAIGDw8WAh8ABRQgICAgICAgICAgICAgICAgICAgIGRkAgcPZBYCAgEPDxYGHwYFGzIwMTUtMjAxNi4x57uP5rWO5a2mLeiAg%2BWLpB8ABTYmbmJzcDs8aW1nIHNyYz1pbWFnZXMva3EucG5nIGFsaWduPWFic21pZGRsZSBib3JkZXI9MD4fCgUFMjk2ODBkZAIJDw8WAh8ABQYmbmJzcDtkZAIKDw8WAh8ABQUyOTY4MGRkAgcPZBYUZg8PFgIfAAUBN2RkAgEPDxYCHwAFCzIwMTUtMjAxNi4xZGQCAg8PFgIfAAUu5Lq65Yqb6LWE5rqQ566h55CGICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRkAgMPDxYCHwAFDei1teS%2FiuWSjCAgICBkZAIEDw8WAh8ABRM0OHwwfDB8MCAgICAgICAgICAgZGQCBQ8PFgIfAAUKICAgICAgICAgIGRkAgYPDxYCHwAFFCAgICAgICAgICAgICAgICAgICAgZGQCBw9kFgICAQ8PFgYfBgUkMjAxNS0yMDE2LjHkurrlipvotYTmupDnrqHnkIYt6ICD5YukHwAFNiZuYnNwOzxpbWcgc3JjPWltYWdlcy9rcS5wbmcgYWxpZ249YWJzbWlkZGxlIGJvcmRlcj0wPh8KBQUyOTY3MGRkAgkPDxYCHwAFBiZuYnNwO2RkAgoPDxYCHwAFBTI5NjcwZGQCCA9kFhRmDw8WAh8ABQE4ZGQCAQ8PFgIfAAULMjAxNS0yMDE2LjFkZAICDw8WAh8ABTPmgJ3mg7PpgZPlvrfkv67lhbvkuI7ms5Xlvovln7rnoYAgICAgICAgICAgICAgICAgICBkZAIDDw8WAh8ABQ3mnLHmuIXmnqsgICAgZGQCBA8PFgIfAAUTMTJ8MHwwfDAgICAgICAgICAgIGRkAgUPDxYCHwAFCiAgICAgICAgICBkZAIGDw8WAh8ABRQgICAgICAgICAgICAgICAgICAgIGRkAgcPZBYCAgEPDxYGHwYFMzIwMTUtMjAxNi4x5oCd5oOz6YGT5b635L%2Bu5YW75LiO5rOV5b6L5Z%2B656GALeiAg%2BWLpB8ABTYmbmJzcDs8aW1nIHNyYz1pbWFnZXMva3EucG5nIGFsaWduPWFic21pZGRsZSBib3JkZXI9MD4fCgUFMjk2ODdkZAIJDw8WAh8ABQYmbmJzcDtkZAIKDw8WAh8ABQUyOTY4N2RkAgkPZBYUZg8PFgIfAAUBOWRkAgEPDxYCHwAFCzIwMTUtMjAxNi4yZGQCAg8PFgIfAAUs6LSi5Yqh566h55CGICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZAIDDw8WAh8ABQogICAgICAgICAgZGQCBA8PFgIfAAUTNDh8MHwwfDAgICAgICAgICAgIGRkAgUPDxYCHwAFCiAgICAgICAgICBkZAIGDw8WAh8ABRQgICAgICAgICAgICAgICAgICAgIGRkAgcPDxYCHwBlZGQCCQ8PFgIfAAUGJm5ic3A7ZGQCCg8PFgIfAAUFMjk2NjdkZAIKD2QWFGYPDxYCHwAFAjEwZGQCAQ8PFgIfAAULMjAxNS0yMDE2LjJkZAICDw8WAh8ABS3ph5Hono3lrabmpoLorrogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZAIDDw8WAh8ABQogICAgICAgICAgZGQCBA8PFgIfAAUTNDh8MHwwfDAgICAgICAgICAgIGRkAgUPDxYCHwAFCiAgICAgICAgICBkZAIGDw8WAh8ABRQgICAgICAgICAgICAgICAgICAgIGRkAgcPDxYCHwBlZGQCCQ8PFgIfAAUGJm5ic3A7ZGQCCg8PFgIfAAUFMjk2NzZkZAILD2QWFGYPDxYCHwAFAjExZGQCAQ8PFgIfAAULMjAxNS0yMDE2LjJkZAICDw8WAh8ABTLkuK3lm73llYbliqHln7rmnKzms5XlvovliLbluqYgICAgICAgICAgICAgICAgICAgIGRkAgMPDxYCHwAFCiAgICAgICAgICBkZAIEDw8WAh8ABRM0OHwwfDB8MCAgICAgICAgICAgZGQCBQ8PFgIfAAUKICAgICAgICAgIGRkAgYPDxYCHwAFFCAgICAgICAgICAgICAgICAgICAgZGQCBw8PFgIfAGVkZAIJDw8WAh8ABQYmbmJzcDtkZAIKDw8WAh8ABQUyOTY4NWRkAgwPZBYUZg8PFgIfAAUCMTJkZAIBDw8WAh8ABQsyMDE2LTIwMTcuMWRkAgIPDxYCHwAFLOW4guWcuuiQpemUgCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGQCAw8PFgIfAAUKICAgICAgICAgIGRkAgQPDxYCHwAFEzQ4fDB8MHwwICAgICAgICAgICBkZAIFDw8WAh8ABQogICAgICAgICAgZGQCBg8PFgIfAAUUICAgICAgICAgICAgICAgICAgICBkZAIHDw8WAh8AZWRkAgkPDxYCHwAFBiZuYnNwO2RkAgoPDxYCHwAFBTI5NjgzZGQCDQ9kFhRmDw8WAh8ABQIxM2RkAgEPDxYCHwAFCzIwMTYtMjAxNy4xZGQCAg8PFgIfAAUr6L%2BQ56255a2mICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRkAgMPDxYCHwAFCiAgICAgICAgICBkZAIEDw8WAh8ABRM0OHwwfDB8MCAgICAgICAgICAgZGQCBQ8PFgIfAAUKICAgICAgICAgIGRkAgYPDxYCHwAFFCAgICAgICAgICAgICAgICAgICAgZGQCBw8PFgIfAGVkZAIJDw8WAh8ABQYmbmJzcDtkZAIKDw8WAh8ABQUyOTY3MWRkAg4PZBYUZg8PFgIfAAUCMTRkZAIBDw8WAh8ABQsyMDE2LTIwMTcuMWRkAgIPDxYCHwAFLee7hOe7h%2BihjOS4uuWtpiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRkAgMPDxYCHwAFCiAgICAgICAgICBkZAIEDw8WAh8ABRMzMnwwfDB8MCAgICAgICAgICAgZGQCBQ8PFgIfAAUKICAgICAgICAgIGRkAgYPDxYCHwAFFCAgICAgICAgICAgICAgICAgICAgZGQCBw8PFgIfAGVkZAIJDw8WAh8ABQYmbmJzcDtkZAIKDw8WAh8ABQUyOTY3NWRkAg8PZBYUZg8PFgIfAAUCMTVkZAIBDw8WAh8ABQsyMDE2LTIwMTcuMmRkAgIPDxYCHwAFLuS8geS4mui1hOS6p%2Be7j%2BiQpSAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZAIDDw8WAh8ABQogICAgICAgICAgZGQCBA8PFgIfAAUTNDh8MHwwfDAgICAgICAgICAgIGRkAgUPDxYCHwAFCiAgICAgICAgICBkZAIGDw8WAh8ABRQgICAgICAgICAgICAgICAgICAgIGRkAgcPDxYCHwBlZGQCCQ8PFgIfAAUGJm5ic3A7ZGQCCg8PFgIfAAUFMjk2NjhkZAIQD2QWFGYPDxYCHwAFAjE2ZGQCAQ8PFgIfAAULMjAxNi0yMDE3LjJkZAICDw8WAh8ABSzpobnnm67nrqHnkIYgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRkAgMPDxYCHwAFCiAgICAgICAgICBkZAIEDw8WAh8ABRM0OHwwfDB8MCAgICAgICAgICAgZGQCBQ8PFgIfAAUKICAgICAgICAgIGRkAgYPDxYCHwAFFCAgICAgICAgICAgICAgICAgICAgZGQCBw8PFgIfAGVkZAIJDw8WAh8ABQYmbmJzcDtkZAIKDw8WAh8ABQUyOTY3M2RkAhEPZBYUZg8PFgIfAAUCMTdkZAIBDw8WAh8ABQsyMDE2LTIwMTcuMmRkAgIPDxYCHwAFLOWtpuacr%2BWGmeS9nCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGQCAw8PFgIfAAUKICAgICAgICAgIGRkAgQPDxYCHwAFEzEyfDB8MHwwICAgICAgICAgICBkZAIFDw8WAh8ABQogICAgICAgICAgZGQCBg8PFgIfAAUUICAgICAgICAgICAgICAgICAgICBkZAIHDw8WAh8AZWRkAgkPDxYCHwAFBiZuYnNwO2RkAgoPDxYCHwAFBTI5Njg5ZGQCEg9kFhRmDw8WAh8ABQIxOGRkAgEPDxYCHwAFCzIwMTYtMjAxNy4yZGQCAg8PFgIfAAUs6L%2BQ6JCl566h55CGICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZAIDDw8WAh8ABQogICAgICAgICAgZGQCBA8PFgIfAAUTNDh8MHwwfDAgICAgICAgICAgIGRkAgUPDxYCHwAFCiAgICAgICAgICBkZAIGDw8WAh8ABRQgICAgICAgICAgICAgICAgICAgIGRkAgcPDxYCHwBlZGQCCQ8PFgIfAAUGJm5ic3A7ZGQCCg8PFgIfAAUFMjk2ODFkZAITD2QWFGYPDxYCHwAFAjE5ZGQCAQ8PFgIfAAULMjAxNy0yMDE4LjFkZAICDw8WAh8ABS7mr5XkuJrorr7orqHorrrmlocgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGQCAw8PFgIfAAUKICAgICAgICAgIGRkAgQPDxYCHwAFFDB8MHwwfDEw5ZGoICAgICAgICAgZGQCBQ8PFgIfAAUKICAgICAgICAgIGRkAgYPDxYCHwAFFCAgICAgICAgICAgICAgICAgICAgZGQCBw8PFgIfAGVkZAIJDw8WAh8ABQYmbmJzcDtkZAIKDw8WAh8ABQUyOTY2NmRkAhQPZBYUZg8PFgIfAAUCMjBkZAIBDw8WAh8ABQsyMDE3LTIwMTguMWRkAgIPDxYCHwAFLOaImOeVpeeuoeeQhiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGQCAw8PFgIfAAUKICAgICAgICAgIGRkAgQPDxYCHwAFEzMyfDB8MHwwICAgICAgICAgICBkZAIFDw8WAh8ABQogICAgICAgICAgZGQCBg8PFgIfAAUUICAgICAgICAgICAgICAgICAgICBkZAIHDw8WAh8AZWRkAgkPDxYCHwAFBiZuYnNwO2RkAgoPDxYCHwAFBTI5Njc0ZGQCFQ9kFhRmDw8WAh8ABQIyMWRkAgEPDxYCHwAFCzIwMTctMjAxOC4xZGQCAg8PFgIfAAUs5LiT6aKY6K6y5bqnICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZAIDDw8WAh8ABQogICAgICAgICAgZGQCBA8PFgIfAAUTMTJ8MHwwfDAgICAgICAgICAgIGRkAgUPDxYCHwAFCiAgICAgICAgICBkZAIGDw8WAh8ABRQgICAgICAgICAgICAgICAgICAgIGRkAgcPDxYCHwBlZGQCCQ8PFgIfAAUGJm5ic3A7ZGQCCg8PFgIfAAUFMjk2ODhkZAIFDw8WAh8ABQEwZGQCBg8PFgIfAAWOAeW9k%2BWJjeWtpuacnzoyMDE1LTIwMTYuMSgyMDE1LTA5LTA36IezMjAxNi0wMS0xNynmnKzlkajkuLrnrKwxMyAg5ZGoICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfOePreS4u%2BS7uzrpq5jmhacoNjQ0ODAwMjItMTEwNSlkZGSPZN5bzNEkjdn1TlrS%2Boj%2BVWn%2BeCoK1uyuLtXTeAPxQA%3D%3D&_ctl0%3Ahid='
    url = 'http://www.sjtuce.net/xxpt/jrJxpjStuCj.aspx'
    cookie = getlogincookie(user,password)
    opener = urllib2.build_opener(urllib2.HTTPCookieProcessor(cookie))
    urllib2.install_opener(opener)
    req = urllib2.urlopen(url,postdata)
    contents = req.read()
    soup = BeautifulSoup(contents,'lxml')
    kqdirc = {}
    tmp = soup.find_all('table',{'id':'_ctl0_MainContent_Datagrid1'})
    for td in tmp[0].find_all('td'):
        title = td.attrs.get('title')
        if title:
            kqdate = "".join(title.encode('utf-8').split(',')[2].split('.'))
        img = td.find(name='img')
        if img:
            kqstat = img.attrs.get('src').split('/')[1].split('\.')[0].split('.')[0]
            kqdirc[kqdate] = kqstat
    return kqdirc

def GetTerminfo():
    '''
    获取学期信息，返回一个tuple
    '''
    url = 'http://www.sjtuce.net/xxpt/jrJxpjStuKb.aspx'
    cookie = getlogincookie(user,password)
    opener = urllib2.build_opener(urllib2.HTTPCookieProcessor(cookie))
    urllib2.install_opener(opener)
    req = urllib2.urlopen(url)
    contents = req.read()
    soup = BeautifulSoup(contents,'lxml')
    tmp = soup.find_all('table',{'title':'上海交通大学继续教育学院上课安排'})
    lessons = {}
    for tr in tmp[0].find_all('tr'):
        lesson = tr.find_all('td')[1].string.strip().encode('utf-8')
        teacher = tr.find_all('td')[2].string.strip().encode('utf-8')
        lessons[lesson] = teacher
    term_regexp = re.compile(".*") 
    term = soup.find_all(selected=term_regexp)[0].string.strip()
    return (term,lessons)
def GetCheckingAttendanceTitle():
    postdata = '__EVENTTARGET=&__EVENTARGUMENT=&__VIEWSTATE=%2FwEPDwUKLTI0NDU0NDM2MQ9kFgJmD2QWBAIDDw8WAh4EVGV4dAUURlkxNDIyMDA2Myzkuo7popzlt51kZAIFD2QWBgIBD2QWBAIDDxYCHgdWaXNpYmxlZxYEAgEPDxYCHwAFHzIwMTUtMjAxNi4x5aSn5a2m6Iux6K%2BtMi3ogIPli6RkZAIDDzwrAAsBAA8WCB4IRGF0YUtleXMWAB4LXyFJdGVtQ291bnQCAx4JUGFnZUNvdW50AgEeFV8hRGF0YVNvdXJjZUl0ZW1Db3VudAIDZBYCZg9kFgYCAQ9kFgxmDw8WBB8ABVkmbmJzcDs8aW1nIHNyYz1pbWFnZXMveWtxLmdpZiBhbGlnbj1hYnNtaWRkbGUgYm9yZGVyPTA%2BPGZvbnQgY29sb3I9IzAwMDBmZj7nrKwx5aCCPC9mb250Ph4HVG9vbFRpcAUd56ysMSDlkags5pif5pyf5LqMLDIwMTUuMDkuMDhkZAIBDw8WBB8ABVkmbmJzcDs8aW1nIHNyYz1pbWFnZXMveWtxLmdpZiBhbGlnbj1hYnNtaWRkbGUgYm9yZGVyPTA%2BPGZvbnQgY29sb3I9IzAwMDBmZj7nrKwy5aCCPC9mb250Ph8GBR3nrKwyIOWRqCzmmJ%2FmnJ%2FkuowsMjAxNS4wOS4xNWRkAgIPDxYEHwAFWSZuYnNwOzxpbWcgc3JjPWltYWdlcy95a3EuZ2lmIGFsaWduPWFic21pZGRsZSBib3JkZXI9MD48Zm9udCBjb2xvcj0jMDAwMGZmPuesrDPloII8L2ZvbnQ%2BHwYFHeesrDMg5ZGoLOaYn%2Bacn%2BS6jCwyMDE1LjA5LjIyZGQCAw8PFgQfAAVZJm5ic3A7PGltZyBzcmM9aW1hZ2VzL3lrcS5naWYgYWxpZ249YWJzbWlkZGxlIGJvcmRlcj0wPjxmb250IGNvbG9yPSMwMDAwZmY%2B56ysNOWggjwvZm9udD4fBgUd56ysNCDlkags5pif5pyf5LqMLDIwMTUuMDkuMjlkZAIEDw8WBB8ABVkmbmJzcDs8aW1nIHNyYz1pbWFnZXMveWtxLmdpZiBhbGlnbj1hYnNtaWRkbGUgYm9yZGVyPTA%2BPGZvbnQgY29sb3I9IzAwMDBmZj7nrKw15aCCPC9mb250Ph8GBR3nrKw2IOWRqCzmmJ%2FmnJ%2FkuowsMjAxNS4xMC4xM2RkAgUPDxYEHwAFWSZuYnNwOzxpbWcgc3JjPWltYWdlcy95a3EuZ2lmIGFsaWduPWFic21pZGRsZSBib3JkZXI9MD48Zm9udCBjb2xvcj0jMDAwMGZmPuesrDbloII8L2ZvbnQ%2BHwYFHeesrDcg5ZGoLOaYn%2Bacn%2BS6jCwyMDE1LjEwLjIwZGQCAg9kFgxmDw8WBB8ABVkmbmJzcDs8aW1nIHNyYz1pbWFnZXMveWtxLmdpZiBhbGlnbj1hYnNtaWRkbGUgYm9yZGVyPTA%2BPGZvbnQgY29sb3I9IzAwMDBmZj7nrKw35aCCPC9mb250Ph8GBR3nrKw4IOWRqCzmmJ%2FmnJ%2FkuowsMjAxNS4xMC4yN2RkAgEPDxYEHwAFWSZuYnNwOzxpbWcgc3JjPWltYWdlcy95a3EuZ2lmIGFsaWduPWFic21pZGRsZSBib3JkZXI9MD48Zm9udCBjb2xvcj0jMDAwMGZmPuesrDjloII8L2ZvbnQ%2BHwYFHeesrDkg5ZGoLOaYn%2Bacn%2BS6jCwyMDE1LjExLjAzZGQCAg8PFgQfAAVZJm5ic3A7PGltZyBzcmM9aW1hZ2VzL3lrcS5naWYgYWxpZ249YWJzbWlkZGxlIGJvcmRlcj0wPjxmb250IGNvbG9yPSMwMDAwZmY%2B56ysOeWggjwvZm9udD4fBgUd56ysMTDlkags5pif5pyf5LqMLDIwMTUuMTEuMTBkZAIDDw8WBB8ABVombmJzcDs8aW1nIHNyYz1pbWFnZXMveWtxLmdpZiBhbGlnbj1hYnNtaWRkbGUgYm9yZGVyPTA%2BPGZvbnQgY29sb3I9IzAwMDBmZj7nrKwxMOWggjwvZm9udD4fBgUd56ysMTHlkags5pif5pyf5LqMLDIwMTUuMTEuMTdkZAIEDw8WBB8ABVombmJzcDs8aW1nIHNyYz1pbWFnZXMveWtxLmdpZiBhbGlnbj1hYnNtaWRkbGUgYm9yZGVyPTA%2BPGZvbnQgY29sb3I9IzAwMDBmZj7nrKwxMeWggjwvZm9udD4fBgUd56ysMTLlkags5pif5pyf5LqMLDIwMTUuMTEuMjRkZAIFDw8WBB8ABVombmJzcDs8aW1nIHNyYz1pbWFnZXMveWtxLmdpZiBhbGlnbj1hYnNtaWRkbGUgYm9yZGVyPTA%2BPGZvbnQgY29sb3I9IzAwMDBmZj7nrKwxMuWggjwvZm9udD4fBgUd56ysMTPlkags5pif5pyf5LqMLDIwMTUuMTIuMDFkZAIDD2QWDGYPDxYEHwAFWiZuYnNwOzxpbWcgc3JjPWltYWdlcy93a3EuZ2lmIGFsaWduPWFic21pZGRsZSBib3JkZXI9MD48Zm9udCBjb2xvcj0jMDAwMGZmPuesrDEz5aCCPC9mb250Ph8GBR3nrKwxNOWRqCzmmJ%2FmnJ%2FkuowsMjAxNS4xMi4wOGRkAgEPDxYEHwAFCOesrDE05aCCHwYFHeesrDE15ZGoLOaYn%2Bacn%2BS6jCwyMDE1LjEyLjE1ZGQCAg8PFgQfAAUI56ysMTXloIIfBgUd56ysMTblkags5pif5pyf5LqMLDIwMTUuMTIuMjJkZAIDDw8WAh8AZWRkAgQPDxYCHwBlZGQCBQ8PFgIfAGVkZAIFD2QWAgIBD2QWAmYPZBYEAgEPDxYGHwAFIjTkuIvooajkuLrkvaDmiYDmnInlrabmnJ%2FnmoTmiJDnu6keCUZvcmVDb2xvcgojHgRfIVNCAgRkZAIDDxQrAAsPFggfAhYAHwMCFR8EAgEfBQIVZBQrAAs8KwAEAQIWBB4FV2lkdGgbAAAAAAAAEEAHAAAAHwgCgAI8KwAEAQIWBB8JGwAAAAAAACxABwAAAB8IAoACPCsABAECFgQfCRsAAAAAAAAyQAcAAAAfCAKAAjwrAAQBAhYEHwkbAAAAAAAAJkAHAAAAHwgCgAI8KwAEAQIWBB8JGwAAAAAAACpABwAAAB8IAoACPCsABAECFgQfCRsAAAAAAAAUQAcAAAAfCAKAAjwrAAQBAhYEHwkbAAAAAAAAIEAHAAAAHwgCgAI8KwAEAQIWBB8JGwAAAAAAACBABwAAAB8IAoACPCsABAECFgQfCRsAAAAAAAAzQAcAAAAfCAKAAjwrAAQBAhYEHwkbAAAAAAAAAAAHAAAAHwgCgAJkZGRkZGRkZBYEHwkbAAAAAAAAWUAHAAAAHwgCgAJkFgJmD2QWKgIBD2QWFmYPDxYCHwAFATFkZAIBDw8WAh8ABQsyMDE0LTIwMTUuMmRkAgIPDxYCHwAFLOWkp%2BWtpuiLseivrTEgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGQCAw8PFgIfAAUN5byg5b%2Bg6a2BICAgIGRkAgQPDxYCHwAFEzY0fDB8MHwwICAgICAgICAgICBkZAIFDw8WAh8ABQznvLrogIMgICAgICBkZAIGDw8WAh8ABRbnvLrogIMgICAgICAgICAgICAgICAgZGQCBw8PFgIfAGVkZAIID2QWBAIBDw8WBh8ABUAmbmJzcDs8aW1nIHNyYz1pbWFnZXMvY2hvbmd4aXUtaWNvLnBuZyBhbGlnbj1hYnNtaWRkbGUgYm9yZGVyPTA%2BHg9Db21tYW5kQXJndW1lbnQFBTI5Njc4HwYFEuiHquS4u%2BWKnueQhumHjeS%2FrhYCHgFtBRgqJTI1LkxLJTVibnRwem4lMjUtbGslN2JkAgUPDxYGHwAFPiZuYnNwOzxpbWcgc3JjPWltYWdlcy95YW5rYW8taWNvLnBuZyBhbGlnbj1hYnNtaWRkbGUgYm9yZGVyPTA%2BHwoFBTI5Njc4HwYFEuiHquS4u%2BWKnueQhuW7tuiAg2RkAgkPDxYCHwAFBiZuYnNwO2RkAgoPDxYCHwAFBTI5Njc4ZGQCAg9kFhRmDw8WAh8ABQEyZGQCAQ8PFgIfAAULMjAxNC0yMDE1LjJkZAICDw8WAh8ABS7pq5jnuqflrp7nlKjova%2Fku7YgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGQCAw8PFgIfAAUN6IuX5riF5b2xICAgIGRkAgQPDxYCHwAFEzEyfDB8MHwwICAgICAgICAgICBkZAIFDw8WAh8ABQzpgJrov4cgICAgICBkZAIGDw8WAh8ABRQgICAgICAgICAgICAgICAgICAgIGRkAgcPDxYCHwBlZGQCCQ8PFgIfAAUGJm5ic3A7ZGQCCg8PFgIfAAUFMjk2ODJkZAIDD2QWFmYPDxYCHwAFATNkZAIBDw8WAh8ABQsyMDE0LTIwMTUuMmRkAgIPDxYCHwAFLOeuoeeQhuaVsOWtpiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGQCAw8PFgIfAAUN5YiY5pmT5qKFICAgIGRkAgQPDxYCHwAFEzY0fDB8MHwwICAgICAgICAgICBkZAIFDw8WCh8ABQo0NCAgICAgICAgHwcKjQEeCUZvbnRfQm9sZGceCUZvbnRfU2l6ZSgqIlN5c3RlbS5XZWIuVUkuV2ViQ29udHJvbHMuRm9udFVuaXQFTGFyZ2UfCAKEGGRkAgYPDxYCHwAFFCAgICAgICAgICAgICAgICAgICAgZGQCBw8PFgIfAGVkZAIID2QWBAIBDw8WBh8ABUAmbmJzcDs8aW1nIHNyYz1pbWFnZXMvY2hvbmd4aXUtaWNvLnBuZyBhbGlnbj1hYnNtaWRkbGUgYm9yZGVyPTA%2BHwoFBTI5Njc3HwYFEuiHquS4u%2BWKnueQhumHjeS%2FrhYCHwsFFColMjUuTEtabnRwem0lMjUtbGt6ZAIDDw8WBh8ABT0mbmJzcDs8aW1nIHNyYz1pbWFnZXMvYnVrYW8taWNvLnBuZyBhbGlnbj1hYnNtaWRkbGUgYm9yZGVyPTA%2BHwoFBTI5Njc3HwYFEuiHquS4u%2BWKnueQhuihpeiAg2RkAgkPDxYCHwAFAjMgZGQCCg8PFgIfAAUFMjk2NzdkZAIED2QWFmYPDxYCHwAFATRkZAIBDw8WAh8ABQsyMDE0LTIwMTUuMmRkAgIPDxYCHwAFK%2BeuoeeQhuWtpiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZAIDDw8WAh8ABQ3otbXkv4rlkowgICAgZGQCBA8PFgIfAAUTNDh8MHwwfDAgICAgICAgICAgIGRkAgUPDxYCHwAFCjc0ICAgICAgICBkZAIGDw8WAh8ABRQgICAgICAgICAgICAgICAgICAgIGRkAgcPDxYCHwBlZGQCCA9kFgICAQ8PFgYfAAVAJm5ic3A7PGltZyBzcmM9aW1hZ2VzL2Nob25neGl1LWljby5wbmcgYWxpZ249YWJzbWlkZGxlIGJvcmRlcj0wPh8KBQUyOTY2OR8GBRLoh6rkuLvlip7nkIbph43kv64WAh8LBRgqJTI1LkxKJTVjbnRweW8lMjUtbGolN2NkAgkPDxYCHwAFAjIgZGQCCg8PFgIfAAUFMjk2NjlkZAIFD2QWFGYPDxYCHwAFATVkZAIBDw8WAh8ABQsyMDE1LTIwMTYuMWRkAgIPDxYCHwAFLOWkp%2BWtpuiLseivrTIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGQCAw8PFgIfAAUM546L5bmzICAgICAgZGQCBA8PFgIfAAUTNjR8MHwwfDAgICAgICAgICAgIGRkAgUPDxYCHwAFCiAgICAgICAgICBkZAIGDw8WAh8ABRQgICAgICAgICAgICAgICAgICAgIGRkAgcPZBYCAgEPDxYGHwYFHzIwMTUtMjAxNi4x5aSn5a2m6Iux6K%2BtMi3ogIPli6QfAAU2Jm5ic3A7PGltZyBzcmM9aW1hZ2VzL2txLnBuZyBhbGlnbj1hYnNtaWRkbGUgYm9yZGVyPTA%2BHwoFBTI5Njc5ZGQCCQ8PFgIfAAUGJm5ic3A7ZGQCCg8PFgIfAAUFMjk2NzlkZAIGD2QWFGYPDxYCHwAFATZkZAIBDw8WAh8ABQsyMDE1LTIwMTYuMWRkAgIPDxYCHwAFK%2Be7j%2Ba1juWtpiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZAIDDw8WAh8ABQ3lvpDmhaflqJ8gICAgZGQCBA8PFgIfAAUTNjR8MHwwfDAgICAgICAgICAgIGRkAgUPDxYCHwAFCiAgICAgICAgICBkZAIGDw8WAh8ABRQgICAgICAgICAgICAgICAgICAgIGRkAgcPZBYCAgEPDxYGHwYFGzIwMTUtMjAxNi4x57uP5rWO5a2mLeiAg%2BWLpB8ABTYmbmJzcDs8aW1nIHNyYz1pbWFnZXMva3EucG5nIGFsaWduPWFic21pZGRsZSBib3JkZXI9MD4fCgUFMjk2ODBkZAIJDw8WAh8ABQYmbmJzcDtkZAIKDw8WAh8ABQUyOTY4MGRkAgcPZBYUZg8PFgIfAAUBN2RkAgEPDxYCHwAFCzIwMTUtMjAxNi4xZGQCAg8PFgIfAAUu5Lq65Yqb6LWE5rqQ566h55CGICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRkAgMPDxYCHwAFDei1teS%2FiuWSjCAgICBkZAIEDw8WAh8ABRM0OHwwfDB8MCAgICAgICAgICAgZGQCBQ8PFgIfAAUKICAgICAgICAgIGRkAgYPDxYCHwAFFCAgICAgICAgICAgICAgICAgICAgZGQCBw9kFgICAQ8PFgYfBgUkMjAxNS0yMDE2LjHkurrlipvotYTmupDnrqHnkIYt6ICD5YukHwAFNiZuYnNwOzxpbWcgc3JjPWltYWdlcy9rcS5wbmcgYWxpZ249YWJzbWlkZGxlIGJvcmRlcj0wPh8KBQUyOTY3MGRkAgkPDxYCHwAFBiZuYnNwO2RkAgoPDxYCHwAFBTI5NjcwZGQCCA9kFhRmDw8WAh8ABQE4ZGQCAQ8PFgIfAAULMjAxNS0yMDE2LjFkZAICDw8WAh8ABTPmgJ3mg7PpgZPlvrfkv67lhbvkuI7ms5Xlvovln7rnoYAgICAgICAgICAgICAgICAgICBkZAIDDw8WAh8ABQ3mnLHmuIXmnqsgICAgZGQCBA8PFgIfAAUTMTJ8MHwwfDAgICAgICAgICAgIGRkAgUPDxYCHwAFCiAgICAgICAgICBkZAIGDw8WAh8ABRQgICAgICAgICAgICAgICAgICAgIGRkAgcPZBYCAgEPDxYGHwYFMzIwMTUtMjAxNi4x5oCd5oOz6YGT5b635L%2Bu5YW75LiO5rOV5b6L5Z%2B656GALeiAg%2BWLpB8ABTYmbmJzcDs8aW1nIHNyYz1pbWFnZXMva3EucG5nIGFsaWduPWFic21pZGRsZSBib3JkZXI9MD4fCgUFMjk2ODdkZAIJDw8WAh8ABQYmbmJzcDtkZAIKDw8WAh8ABQUyOTY4N2RkAgkPZBYUZg8PFgIfAAUBOWRkAgEPDxYCHwAFCzIwMTUtMjAxNi4yZGQCAg8PFgIfAAUs6LSi5Yqh566h55CGICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZAIDDw8WAh8ABQogICAgICAgICAgZGQCBA8PFgIfAAUTNDh8MHwwfDAgICAgICAgICAgIGRkAgUPDxYCHwAFCiAgICAgICAgICBkZAIGDw8WAh8ABRQgICAgICAgICAgICAgICAgICAgIGRkAgcPDxYCHwBlZGQCCQ8PFgIfAAUGJm5ic3A7ZGQCCg8PFgIfAAUFMjk2NjdkZAIKD2QWFGYPDxYCHwAFAjEwZGQCAQ8PFgIfAAULMjAxNS0yMDE2LjJkZAICDw8WAh8ABS3ph5Hono3lrabmpoLorrogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZAIDDw8WAh8ABQogICAgICAgICAgZGQCBA8PFgIfAAUTNDh8MHwwfDAgICAgICAgICAgIGRkAgUPDxYCHwAFCiAgICAgICAgICBkZAIGDw8WAh8ABRQgICAgICAgICAgICAgICAgICAgIGRkAgcPDxYCHwBlZGQCCQ8PFgIfAAUGJm5ic3A7ZGQCCg8PFgIfAAUFMjk2NzZkZAILD2QWFGYPDxYCHwAFAjExZGQCAQ8PFgIfAAULMjAxNS0yMDE2LjJkZAICDw8WAh8ABTLkuK3lm73llYbliqHln7rmnKzms5XlvovliLbluqYgICAgICAgICAgICAgICAgICAgIGRkAgMPDxYCHwAFCiAgICAgICAgICBkZAIEDw8WAh8ABRM0OHwwfDB8MCAgICAgICAgICAgZGQCBQ8PFgIfAAUKICAgICAgICAgIGRkAgYPDxYCHwAFFCAgICAgICAgICAgICAgICAgICAgZGQCBw8PFgIfAGVkZAIJDw8WAh8ABQYmbmJzcDtkZAIKDw8WAh8ABQUyOTY4NWRkAgwPZBYUZg8PFgIfAAUCMTJkZAIBDw8WAh8ABQsyMDE2LTIwMTcuMWRkAgIPDxYCHwAFLOW4guWcuuiQpemUgCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGQCAw8PFgIfAAUKICAgICAgICAgIGRkAgQPDxYCHwAFEzQ4fDB8MHwwICAgICAgICAgICBkZAIFDw8WAh8ABQogICAgICAgICAgZGQCBg8PFgIfAAUUICAgICAgICAgICAgICAgICAgICBkZAIHDw8WAh8AZWRkAgkPDxYCHwAFBiZuYnNwO2RkAgoPDxYCHwAFBTI5NjgzZGQCDQ9kFhRmDw8WAh8ABQIxM2RkAgEPDxYCHwAFCzIwMTYtMjAxNy4xZGQCAg8PFgIfAAUr6L%2BQ56255a2mICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRkAgMPDxYCHwAFCiAgICAgICAgICBkZAIEDw8WAh8ABRM0OHwwfDB8MCAgICAgICAgICAgZGQCBQ8PFgIfAAUKICAgICAgICAgIGRkAgYPDxYCHwAFFCAgICAgICAgICAgICAgICAgICAgZGQCBw8PFgIfAGVkZAIJDw8WAh8ABQYmbmJzcDtkZAIKDw8WAh8ABQUyOTY3MWRkAg4PZBYUZg8PFgIfAAUCMTRkZAIBDw8WAh8ABQsyMDE2LTIwMTcuMWRkAgIPDxYCHwAFLee7hOe7h%2BihjOS4uuWtpiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRkAgMPDxYCHwAFCiAgICAgICAgICBkZAIEDw8WAh8ABRMzMnwwfDB8MCAgICAgICAgICAgZGQCBQ8PFgIfAAUKICAgICAgICAgIGRkAgYPDxYCHwAFFCAgICAgICAgICAgICAgICAgICAgZGQCBw8PFgIfAGVkZAIJDw8WAh8ABQYmbmJzcDtkZAIKDw8WAh8ABQUyOTY3NWRkAg8PZBYUZg8PFgIfAAUCMTVkZAIBDw8WAh8ABQsyMDE2LTIwMTcuMmRkAgIPDxYCHwAFLuS8geS4mui1hOS6p%2Be7j%2BiQpSAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZAIDDw8WAh8ABQogICAgICAgICAgZGQCBA8PFgIfAAUTNDh8MHwwfDAgICAgICAgICAgIGRkAgUPDxYCHwAFCiAgICAgICAgICBkZAIGDw8WAh8ABRQgICAgICAgICAgICAgICAgICAgIGRkAgcPDxYCHwBlZGQCCQ8PFgIfAAUGJm5ic3A7ZGQCCg8PFgIfAAUFMjk2NjhkZAIQD2QWFGYPDxYCHwAFAjE2ZGQCAQ8PFgIfAAULMjAxNi0yMDE3LjJkZAICDw8WAh8ABSzpobnnm67nrqHnkIYgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRkAgMPDxYCHwAFCiAgICAgICAgICBkZAIEDw8WAh8ABRM0OHwwfDB8MCAgICAgICAgICAgZGQCBQ8PFgIfAAUKICAgICAgICAgIGRkAgYPDxYCHwAFFCAgICAgICAgICAgICAgICAgICAgZGQCBw8PFgIfAGVkZAIJDw8WAh8ABQYmbmJzcDtkZAIKDw8WAh8ABQUyOTY3M2RkAhEPZBYUZg8PFgIfAAUCMTdkZAIBDw8WAh8ABQsyMDE2LTIwMTcuMmRkAgIPDxYCHwAFLOWtpuacr%2BWGmeS9nCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGQCAw8PFgIfAAUKICAgICAgICAgIGRkAgQPDxYCHwAFEzEyfDB8MHwwICAgICAgICAgICBkZAIFDw8WAh8ABQogICAgICAgICAgZGQCBg8PFgIfAAUUICAgICAgICAgICAgICAgICAgICBkZAIHDw8WAh8AZWRkAgkPDxYCHwAFBiZuYnNwO2RkAgoPDxYCHwAFBTI5Njg5ZGQCEg9kFhRmDw8WAh8ABQIxOGRkAgEPDxYCHwAFCzIwMTYtMjAxNy4yZGQCAg8PFgIfAAUs6L%2BQ6JCl566h55CGICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZAIDDw8WAh8ABQogICAgICAgICAgZGQCBA8PFgIfAAUTNDh8MHwwfDAgICAgICAgICAgIGRkAgUPDxYCHwAFCiAgICAgICAgICBkZAIGDw8WAh8ABRQgICAgICAgICAgICAgICAgICAgIGRkAgcPDxYCHwBlZGQCCQ8PFgIfAAUGJm5ic3A7ZGQCCg8PFgIfAAUFMjk2ODFkZAITD2QWFGYPDxYCHwAFAjE5ZGQCAQ8PFgIfAAULMjAxNy0yMDE4LjFkZAICDw8WAh8ABS7mr5XkuJrorr7orqHorrrmlocgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGQCAw8PFgIfAAUKICAgICAgICAgIGRkAgQPDxYCHwAFFDB8MHwwfDEw5ZGoICAgICAgICAgZGQCBQ8PFgIfAAUKICAgICAgICAgIGRkAgYPDxYCHwAFFCAgICAgICAgICAgICAgICAgICAgZGQCBw8PFgIfAGVkZAIJDw8WAh8ABQYmbmJzcDtkZAIKDw8WAh8ABQUyOTY2NmRkAhQPZBYUZg8PFgIfAAUCMjBkZAIBDw8WAh8ABQsyMDE3LTIwMTguMWRkAgIPDxYCHwAFLOaImOeVpeeuoeeQhiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGQCAw8PFgIfAAUKICAgICAgICAgIGRkAgQPDxYCHwAFEzMyfDB8MHwwICAgICAgICAgICBkZAIFDw8WAh8ABQogICAgICAgICAgZGQCBg8PFgIfAAUUICAgICAgICAgICAgICAgICAgICBkZAIHDw8WAh8AZWRkAgkPDxYCHwAFBiZuYnNwO2RkAgoPDxYCHwAFBTI5Njc0ZGQCFQ9kFhRmDw8WAh8ABQIyMWRkAgEPDxYCHwAFCzIwMTctMjAxOC4xZGQCAg8PFgIfAAUs5LiT6aKY6K6y5bqnICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZAIDDw8WAh8ABQogICAgICAgICAgZGQCBA8PFgIfAAUTMTJ8MHwwfDAgICAgICAgICAgIGRkAgUPDxYCHwAFCiAgICAgICAgICBkZAIGDw8WAh8ABRQgICAgICAgICAgICAgICAgICAgIGRkAgcPDxYCHwBlZGQCCQ8PFgIfAAUGJm5ic3A7ZGQCCg8PFgIfAAUFMjk2ODhkZAIFDw8WAh8ABQEwZGQCBg8PFgIfAAWOAeW9k%2BWJjeWtpuacnzoyMDE1LTIwMTYuMSgyMDE1LTA5LTA36IezMjAxNi0wMS0xNynmnKzlkajkuLrnrKwxNCAg5ZGoICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfOePreS4u%2BS7uzrpq5jmhacoNjQ0ODAwMjItMTEwNSlkZGT97DvPp7oCR5PIiqQXjAaKwgvqTl7PfrJ9oFpvtA6JIQ%3D%3D&_ctl0%3AMainContent%3AButton4=%E6%98%BE%E7%A4%BA%E6%89%80%E6%9C%89%E6%88%90%E7%BB%A9&_ctl0%3Ahid='
    url = 'http://www.sjtuce.net/xxpt/jrJxpjStuCj.aspx'
    cookie = getlogincookie(user,password)
    opener = urllib2.build_opener(urllib2.HTTPCookieProcessor(cookie))
    urllib2.install_opener(opener)
    req = urllib2.urlopen(url,postdata)
    contents = req.read()
    soup = BeautifulSoup(contents,'lxml')
    term = GetTerminfo()
    title = []
    for lesson,teacher in term[1].items():
        if lesson == '课程':
            continue
        lesson = lesson.encode('utf-8')
        teacher = teacher.encode('utf-8')
        post = term[0]+lesson+'-考勤'
        title.append({lesson:post})
    post = []
    for i in title:
        for k,v in i.items():
            p = soup.find('a',{'title':v}).attrs.get('id')
            post.append({k:p})
    return post
print GetCheckingAttendanceTitle()

def GetCA():
    postdata = '__EVENTTARGET=_ctl0%24MainContent%24dgNetzy%24_ctl7%24lbtn&__EVENTARGUMENT=&__VIEWSTATE=%2FwEPDwUKLTI0NDU0NDM2MQ9kFgJmD2QWBAIDDw8WAh4EVGV4dAUURlkxNDIyMDA2Myzkuo7popzlt51kZAIFD2QWBgIBD2QWBAIDDxYCHgdWaXNpYmxlZxYEAgEPDxYCHwAFGzIwMTUtMjAxNi4x57uP5rWO5a2mLeiAg%2BWLpGRkAgMPPCsACwEADxYIHghEYXRhS2V5cxYAHgtfIUl0ZW1Db3VudAIDHglQYWdlQ291bnQCAR4VXyFEYXRhU291cmNlSXRlbUNvdW50AgNkFgJmD2QWBgIBD2QWDGYPDxYEHwAFWSZuYnNwOzxpbWcgc3JjPWltYWdlcy95a3EuZ2lmIGFsaWduPWFic21pZGRsZSBib3JkZXI9MD48Zm9udCBjb2xvcj0jMDAwMGZmPuesrDHloII8L2ZvbnQ%2BHgdUb29sVGlwBR3nrKwxIOWRqCzmmJ%2FmnJ%2Fml6UsMjAxNS4wOS4xM2RkAgEPDxYEHwAFWSZuYnNwOzxpbWcgc3JjPWltYWdlcy95a3EuZ2lmIGFsaWduPWFic21pZGRsZSBib3JkZXI9MD48Zm9udCBjb2xvcj0jMDAwMGZmPuesrDLloII8L2ZvbnQ%2BHwYFHeesrDIg5ZGoLOaYn%2Bacn%2BaXpSwyMDE1LjA5LjIwZGQCAg8PFgQfAAVZJm5ic3A7PGltZyBzcmM9aW1hZ2VzL3drcS5naWYgYWxpZ249YWJzbWlkZGxlIGJvcmRlcj0wPjxmb250IGNvbG9yPSMwMDAwZmY%2B56ysM%2BWggjwvZm9udD4fBgUd56ysMyDlkags5pif5pyf5pelLDIwMTUuMDkuMjdkZAIDDw8WBB8ABVkmbmJzcDs8aW1nIHNyYz1pbWFnZXMveWtxLmdpZiBhbGlnbj1hYnNtaWRkbGUgYm9yZGVyPTA%2BPGZvbnQgY29sb3I9IzAwMDBmZj7nrKw05aCCPC9mb250Ph8GBR3nrKw1IOWRqCzmmJ%2FmnJ%2Fml6UsMjAxNS4xMC4xMWRkAgQPDxYEHwAFWSZuYnNwOzxpbWcgc3JjPWltYWdlcy95a3EuZ2lmIGFsaWduPWFic21pZGRsZSBib3JkZXI9MD48Zm9udCBjb2xvcj0jMDAwMGZmPuesrDXloII8L2ZvbnQ%2BHwYFHeesrDYg5ZGoLOaYn%2Bacn%2BaXpSwyMDE1LjEwLjE4ZGQCBQ8PFgQfAAVZJm5ic3A7PGltZyBzcmM9aW1hZ2VzL3lrcS5naWYgYWxpZ249YWJzbWlkZGxlIGJvcmRlcj0wPjxmb250IGNvbG9yPSMwMDAwZmY%2B56ysNuWggjwvZm9udD4fBgUd56ysNyDlkags5pif5pyf5pelLDIwMTUuMTAuMjVkZAICD2QWDGYPDxYEHwAFWSZuYnNwOzxpbWcgc3JjPWltYWdlcy95a3EuZ2lmIGFsaWduPWFic21pZGRsZSBib3JkZXI9MD48Zm9udCBjb2xvcj0jMDAwMGZmPuesrDfloII8L2ZvbnQ%2BHwYFHeesrDgg5ZGoLOaYn%2Bacn%2BaXpSwyMDE1LjExLjAxZGQCAQ8PFgQfAAVZJm5ic3A7PGltZyBzcmM9aW1hZ2VzL3lrcS5naWYgYWxpZ249YWJzbWlkZGxlIGJvcmRlcj0wPjxmb250IGNvbG9yPSMwMDAwZmY%2B56ysOOWggjwvZm9udD4fBgUd56ysOSDlkags5pif5pyf5pelLDIwMTUuMTEuMDhkZAICDw8WBB8ABVkmbmJzcDs8aW1nIHNyYz1pbWFnZXMveWtxLmdpZiBhbGlnbj1hYnNtaWRkbGUgYm9yZGVyPTA%2BPGZvbnQgY29sb3I9IzAwMDBmZj7nrKw55aCCPC9mb250Ph8GBR3nrKwxMOWRqCzmmJ%2FmnJ%2Fml6UsMjAxNS4xMS4xNWRkAgMPDxYEHwAFWiZuYnNwOzxpbWcgc3JjPWltYWdlcy95a3EuZ2lmIGFsaWduPWFic21pZGRsZSBib3JkZXI9MD48Zm9udCBjb2xvcj0jMDAwMGZmPuesrDEw5aCCPC9mb250Ph8GBR3nrKwxMeWRqCzmmJ%2FmnJ%2Fml6UsMjAxNS4xMS4yMmRkAgQPDxYEHwAFWiZuYnNwOzxpbWcgc3JjPWltYWdlcy93a3EuZ2lmIGFsaWduPWFic21pZGRsZSBib3JkZXI9MD48Zm9udCBjb2xvcj0jMDAwMGZmPuesrDEx5aCCPC9mb250Ph8GBR3nrKwxMuWRqCzmmJ%2FmnJ%2Fml6UsMjAxNS4xMS4yOWRkAgUPDxYEHwAFCOesrDEy5aCCHwYFHeesrDEz5ZGoLOaYn%2Bacn%2BaXpSwyMDE1LjEyLjA2ZGQCAw9kFgxmDw8WBB8ABQjnrKwxM%2BWggh8GBR3nrKwxNOWRqCzmmJ%2FmnJ%2Fml6UsMjAxNS4xMi4xM2RkAgEPDxYEHwAFCOesrDE05aCCHwYFHeesrDE15ZGoLOaYn%2Bacn%2BaXpSwyMDE1LjEyLjIwZGQCAg8PFgQfAAUI56ysMTXloIIfBgUd56ysMTblkags5pif5pyf5pelLDIwMTUuMTIuMjdkZAIDDw8WAh8AZWRkAgQPDxYCHwBlZGQCBQ8PFgIfAGVkZAIFD2QWAgIBD2QWAmYPZBYEAgEPDxYGHwAFIjTkuIvooajkuLrkvaDmiYDmnInlrabmnJ%2FnmoTmiJDnu6keCUZvcmVDb2xvcgojHgRfIVNCAgRkZAIDDxQrAAsPFggfAhYAHwMCFR8EAgEfBQIVZBQrAAs8KwAEAQIWBB4FV2lkdGgbAAAAAAAAEEAHAAAAHwgCgAI8KwAEAQIWBB8JGwAAAAAAACxABwAAAB8IAoACPCsABAECFgQfCRsAAAAAAAAyQAcAAAAfCAKAAjwrAAQBAhYEHwkbAAAAAAAAJkAHAAAAHwgCgAI8KwAEAQIWBB8JGwAAAAAAACpABwAAAB8IAoACPCsABAECFgQfCRsAAAAAAAAUQAcAAAAfCAKAAjwrAAQBAhYEHwkbAAAAAAAAIEAHAAAAHwgCgAI8KwAEAQIWBB8JGwAAAAAAACBABwAAAB8IAoACPCsABAECFgQfCRsAAAAAAAAzQAcAAAAfCAKAAjwrAAQBAhYEHwkbAAAAAAAAAAAHAAAAHwgCgAJkZGRkZGRkZBYEHwkbAAAAAAAAWUAHAAAAHwgCgAJkFgJmD2QWKgIBD2QWFmYPDxYCHwAFATFkZAIBDw8WAh8ABQsyMDE0LTIwMTUuMmRkAgIPDxYCHwAFLOWkp%2BWtpuiLseivrTEgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGQCAw8PFgIfAAUN5byg5b%2Bg6a2BICAgIGRkAgQPDxYCHwAFEzY0fDB8MHwwICAgICAgICAgICBkZAIFDw8WAh8ABQznvLrogIMgICAgICBkZAIGDw8WAh8ABRbnvLrogIMgICAgICAgICAgICAgICAgZGQCBw8PFgIfAGVkZAIID2QWBAIBDw8WBh8ABUAmbmJzcDs8aW1nIHNyYz1pbWFnZXMvY2hvbmd4aXUtaWNvLnBuZyBhbGlnbj1hYnNtaWRkbGUgYm9yZGVyPTA%2BHg9Db21tYW5kQXJndW1lbnQFBTI5Njc4HwYFEuiHquS4u%2BWKnueQhumHjeS%2FrhYCHgFtBRgqJTI1LkxLJTVibnRwem4lMjUtbGslN2JkAgUPDxYGHwAFPiZuYnNwOzxpbWcgc3JjPWltYWdlcy95YW5rYW8taWNvLnBuZyBhbGlnbj1hYnNtaWRkbGUgYm9yZGVyPTA%2BHwoFBTI5Njc4HwYFEuiHquS4u%2BWKnueQhuW7tuiAg2RkAgkPDxYCHwAFBiZuYnNwO2RkAgoPDxYCHwAFBTI5Njc4ZGQCAg9kFhRmDw8WAh8ABQEyZGQCAQ8PFgIfAAULMjAxNC0yMDE1LjJkZAICDw8WAh8ABS7pq5jnuqflrp7nlKjova%2Fku7YgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGQCAw8PFgIfAAUN6IuX5riF5b2xICAgIGRkAgQPDxYCHwAFEzEyfDB8MHwwICAgICAgICAgICBkZAIFDw8WAh8ABQzpgJrov4cgICAgICBkZAIGDw8WAh8ABRQgICAgICAgICAgICAgICAgICAgIGRkAgcPDxYCHwBlZGQCCQ8PFgIfAAUGJm5ic3A7ZGQCCg8PFgIfAAUFMjk2ODJkZAIDD2QWFmYPDxYCHwAFATNkZAIBDw8WAh8ABQsyMDE0LTIwMTUuMmRkAgIPDxYCHwAFLOeuoeeQhuaVsOWtpiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGQCAw8PFgIfAAUN5YiY5pmT5qKFICAgIGRkAgQPDxYCHwAFEzY0fDB8MHwwICAgICAgICAgICBkZAIFDw8WCh8ABQo0NCAgICAgICAgHwcKjQEeCUZvbnRfQm9sZGceCUZvbnRfU2l6ZSgqIlN5c3RlbS5XZWIuVUkuV2ViQ29udHJvbHMuRm9udFVuaXQFTGFyZ2UfCAKEGGRkAgYPDxYCHwAFFCAgICAgICAgICAgICAgICAgICAgZGQCBw8PFgIfAGVkZAIID2QWBAIBDw8WBh8ABUAmbmJzcDs8aW1nIHNyYz1pbWFnZXMvY2hvbmd4aXUtaWNvLnBuZyBhbGlnbj1hYnNtaWRkbGUgYm9yZGVyPTA%2BHwoFBTI5Njc3HwYFEuiHquS4u%2BWKnueQhumHjeS%2FrhYCHwsFFColMjUuTEtabnRwem0lMjUtbGt6ZAIDDw8WBh8ABT0mbmJzcDs8aW1nIHNyYz1pbWFnZXMvYnVrYW8taWNvLnBuZyBhbGlnbj1hYnNtaWRkbGUgYm9yZGVyPTA%2BHwoFBTI5Njc3HwYFEuiHquS4u%2BWKnueQhuihpeiAg2RkAgkPDxYCHwAFAjMgZGQCCg8PFgIfAAUFMjk2NzdkZAIED2QWFmYPDxYCHwAFATRkZAIBDw8WAh8ABQsyMDE0LTIwMTUuMmRkAgIPDxYCHwAFK%2BeuoeeQhuWtpiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZAIDDw8WAh8ABQ3otbXkv4rlkowgICAgZGQCBA8PFgIfAAUTNDh8MHwwfDAgICAgICAgICAgIGRkAgUPDxYCHwAFCjc0ICAgICAgICBkZAIGDw8WAh8ABRQgICAgICAgICAgICAgICAgICAgIGRkAgcPDxYCHwBlZGQCCA9kFgICAQ8PFgYfAAVAJm5ic3A7PGltZyBzcmM9aW1hZ2VzL2Nob25neGl1LWljby5wbmcgYWxpZ249YWJzbWlkZGxlIGJvcmRlcj0wPh8KBQUyOTY2OR8GBRLoh6rkuLvlip7nkIbph43kv64WAh8LBRgqJTI1LkxKJTVjbnRweW8lMjUtbGolN2NkAgkPDxYCHwAFAjIgZGQCCg8PFgIfAAUFMjk2NjlkZAIFD2QWFGYPDxYCHwAFATVkZAIBDw8WAh8ABQsyMDE1LTIwMTYuMWRkAgIPDxYCHwAFLOWkp%2BWtpuiLseivrTIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGQCAw8PFgIfAAUM546L5bmzICAgICAgZGQCBA8PFgIfAAUTNjR8MHwwfDAgICAgICAgICAgIGRkAgUPDxYCHwAFCiAgICAgICAgICBkZAIGDw8WAh8ABRQgICAgICAgICAgICAgICAgICAgIGRkAgcPZBYCAgEPDxYGHwYFHzIwMTUtMjAxNi4x5aSn5a2m6Iux6K%2BtMi3ogIPli6QfAAU2Jm5ic3A7PGltZyBzcmM9aW1hZ2VzL2txLnBuZyBhbGlnbj1hYnNtaWRkbGUgYm9yZGVyPTA%2BHwoFBTI5Njc5ZGQCCQ8PFgIfAAUGJm5ic3A7ZGQCCg8PFgIfAAUFMjk2NzlkZAIGD2QWFGYPDxYCHwAFATZkZAIBDw8WAh8ABQsyMDE1LTIwMTYuMWRkAgIPDxYCHwAFK%2Be7j%2Ba1juWtpiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZAIDDw8WAh8ABQ3lvpDmhaflqJ8gICAgZGQCBA8PFgIfAAUTNjR8MHwwfDAgICAgICAgICAgIGRkAgUPDxYCHwAFCiAgICAgICAgICBkZAIGDw8WAh8ABRQgICAgICAgICAgICAgICAgICAgIGRkAgcPZBYCAgEPDxYGHwYFGzIwMTUtMjAxNi4x57uP5rWO5a2mLeiAg%2BWLpB8ABTYmbmJzcDs8aW1nIHNyYz1pbWFnZXMva3EucG5nIGFsaWduPWFic21pZGRsZSBib3JkZXI9MD4fCgUFMjk2ODBkZAIJDw8WAh8ABQYmbmJzcDtkZAIKDw8WAh8ABQUyOTY4MGRkAgcPZBYUZg8PFgIfAAUBN2RkAgEPDxYCHwAFCzIwMTUtMjAxNi4xZGQCAg8PFgIfAAUu5Lq65Yqb6LWE5rqQ566h55CGICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRkAgMPDxYCHwAFDei1teS%2FiuWSjCAgICBkZAIEDw8WAh8ABRM0OHwwfDB8MCAgICAgICAgICAgZGQCBQ8PFgIfAAUKICAgICAgICAgIGRkAgYPDxYCHwAFFCAgICAgICAgICAgICAgICAgICAgZGQCBw9kFgICAQ8PFgYfBgUkMjAxNS0yMDE2LjHkurrlipvotYTmupDnrqHnkIYt6ICD5YukHwAFNiZuYnNwOzxpbWcgc3JjPWltYWdlcy9rcS5wbmcgYWxpZ249YWJzbWlkZGxlIGJvcmRlcj0wPh8KBQUyOTY3MGRkAgkPDxYCHwAFBiZuYnNwO2RkAgoPDxYCHwAFBTI5NjcwZGQCCA9kFhRmDw8WAh8ABQE4ZGQCAQ8PFgIfAAULMjAxNS0yMDE2LjFkZAICDw8WAh8ABTPmgJ3mg7PpgZPlvrfkv67lhbvkuI7ms5Xlvovln7rnoYAgICAgICAgICAgICAgICAgICBkZAIDDw8WAh8ABQ3mnLHmuIXmnqsgICAgZGQCBA8PFgIfAAUTMTJ8MHwwfDAgICAgICAgICAgIGRkAgUPDxYCHwAFCiAgICAgICAgICBkZAIGDw8WAh8ABRQgICAgICAgICAgICAgICAgICAgIGRkAgcPZBYCAgEPDxYGHwYFMzIwMTUtMjAxNi4x5oCd5oOz6YGT5b635L%2Bu5YW75LiO5rOV5b6L5Z%2B656GALeiAg%2BWLpB8ABTYmbmJzcDs8aW1nIHNyYz1pbWFnZXMva3EucG5nIGFsaWduPWFic21pZGRsZSBib3JkZXI9MD4fCgUFMjk2ODdkZAIJDw8WAh8ABQYmbmJzcDtkZAIKDw8WAh8ABQUyOTY4N2RkAgkPZBYUZg8PFgIfAAUBOWRkAgEPDxYCHwAFCzIwMTUtMjAxNi4yZGQCAg8PFgIfAAUs6LSi5Yqh566h55CGICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZAIDDw8WAh8ABQogICAgICAgICAgZGQCBA8PFgIfAAUTNDh8MHwwfDAgICAgICAgICAgIGRkAgUPDxYCHwAFCiAgICAgICAgICBkZAIGDw8WAh8ABRQgICAgICAgICAgICAgICAgICAgIGRkAgcPDxYCHwBlZGQCCQ8PFgIfAAUGJm5ic3A7ZGQCCg8PFgIfAAUFMjk2NjdkZAIKD2QWFGYPDxYCHwAFAjEwZGQCAQ8PFgIfAAULMjAxNS0yMDE2LjJkZAICDw8WAh8ABS3ph5Hono3lrabmpoLorrogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZAIDDw8WAh8ABQogICAgICAgICAgZGQCBA8PFgIfAAUTNDh8MHwwfDAgICAgICAgICAgIGRkAgUPDxYCHwAFCiAgICAgICAgICBkZAIGDw8WAh8ABRQgICAgICAgICAgICAgICAgICAgIGRkAgcPDxYCHwBlZGQCCQ8PFgIfAAUGJm5ic3A7ZGQCCg8PFgIfAAUFMjk2NzZkZAILD2QWFGYPDxYCHwAFAjExZGQCAQ8PFgIfAAULMjAxNS0yMDE2LjJkZAICDw8WAh8ABTLkuK3lm73llYbliqHln7rmnKzms5XlvovliLbluqYgICAgICAgICAgICAgICAgICAgIGRkAgMPDxYCHwAFCiAgICAgICAgICBkZAIEDw8WAh8ABRM0OHwwfDB8MCAgICAgICAgICAgZGQCBQ8PFgIfAAUKICAgICAgICAgIGRkAgYPDxYCHwAFFCAgICAgICAgICAgICAgICAgICAgZGQCBw8PFgIfAGVkZAIJDw8WAh8ABQYmbmJzcDtkZAIKDw8WAh8ABQUyOTY4NWRkAgwPZBYUZg8PFgIfAAUCMTJkZAIBDw8WAh8ABQsyMDE2LTIwMTcuMWRkAgIPDxYCHwAFLOW4guWcuuiQpemUgCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGQCAw8PFgIfAAUKICAgICAgICAgIGRkAgQPDxYCHwAFEzQ4fDB8MHwwICAgICAgICAgICBkZAIFDw8WAh8ABQogICAgICAgICAgZGQCBg8PFgIfAAUUICAgICAgICAgICAgICAgICAgICBkZAIHDw8WAh8AZWRkAgkPDxYCHwAFBiZuYnNwO2RkAgoPDxYCHwAFBTI5NjgzZGQCDQ9kFhRmDw8WAh8ABQIxM2RkAgEPDxYCHwAFCzIwMTYtMjAxNy4xZGQCAg8PFgIfAAUr6L%2BQ56255a2mICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRkAgMPDxYCHwAFCiAgICAgICAgICBkZAIEDw8WAh8ABRM0OHwwfDB8MCAgICAgICAgICAgZGQCBQ8PFgIfAAUKICAgICAgICAgIGRkAgYPDxYCHwAFFCAgICAgICAgICAgICAgICAgICAgZGQCBw8PFgIfAGVkZAIJDw8WAh8ABQYmbmJzcDtkZAIKDw8WAh8ABQUyOTY3MWRkAg4PZBYUZg8PFgIfAAUCMTRkZAIBDw8WAh8ABQsyMDE2LTIwMTcuMWRkAgIPDxYCHwAFLee7hOe7h%2BihjOS4uuWtpiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRkAgMPDxYCHwAFCiAgICAgICAgICBkZAIEDw8WAh8ABRMzMnwwfDB8MCAgICAgICAgICAgZGQCBQ8PFgIfAAUKICAgICAgICAgIGRkAgYPDxYCHwAFFCAgICAgICAgICAgICAgICAgICAgZGQCBw8PFgIfAGVkZAIJDw8WAh8ABQYmbmJzcDtkZAIKDw8WAh8ABQUyOTY3NWRkAg8PZBYUZg8PFgIfAAUCMTVkZAIBDw8WAh8ABQsyMDE2LTIwMTcuMmRkAgIPDxYCHwAFLuS8geS4mui1hOS6p%2Be7j%2BiQpSAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZAIDDw8WAh8ABQogICAgICAgICAgZGQCBA8PFgIfAAUTNDh8MHwwfDAgICAgICAgICAgIGRkAgUPDxYCHwAFCiAgICAgICAgICBkZAIGDw8WAh8ABRQgICAgICAgICAgICAgICAgICAgIGRkAgcPDxYCHwBlZGQCCQ8PFgIfAAUGJm5ic3A7ZGQCCg8PFgIfAAUFMjk2NjhkZAIQD2QWFGYPDxYCHwAFAjE2ZGQCAQ8PFgIfAAULMjAxNi0yMDE3LjJkZAICDw8WAh8ABSzpobnnm67nrqHnkIYgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRkAgMPDxYCHwAFCiAgICAgICAgICBkZAIEDw8WAh8ABRM0OHwwfDB8MCAgICAgICAgICAgZGQCBQ8PFgIfAAUKICAgICAgICAgIGRkAgYPDxYCHwAFFCAgICAgICAgICAgICAgICAgICAgZGQCBw8PFgIfAGVkZAIJDw8WAh8ABQYmbmJzcDtkZAIKDw8WAh8ABQUyOTY3M2RkAhEPZBYUZg8PFgIfAAUCMTdkZAIBDw8WAh8ABQsyMDE2LTIwMTcuMmRkAgIPDxYCHwAFLOWtpuacr%2BWGmeS9nCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGQCAw8PFgIfAAUKICAgICAgICAgIGRkAgQPDxYCHwAFEzEyfDB8MHwwICAgICAgICAgICBkZAIFDw8WAh8ABQogICAgICAgICAgZGQCBg8PFgIfAAUUICAgICAgICAgICAgICAgICAgICBkZAIHDw8WAh8AZWRkAgkPDxYCHwAFBiZuYnNwO2RkAgoPDxYCHwAFBTI5Njg5ZGQCEg9kFhRmDw8WAh8ABQIxOGRkAgEPDxYCHwAFCzIwMTYtMjAxNy4yZGQCAg8PFgIfAAUs6L%2BQ6JCl566h55CGICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZAIDDw8WAh8ABQogICAgICAgICAgZGQCBA8PFgIfAAUTNDh8MHwwfDAgICAgICAgICAgIGRkAgUPDxYCHwAFCiAgICAgICAgICBkZAIGDw8WAh8ABRQgICAgICAgICAgICAgICAgICAgIGRkAgcPDxYCHwBlZGQCCQ8PFgIfAAUGJm5ic3A7ZGQCCg8PFgIfAAUFMjk2ODFkZAITD2QWFGYPDxYCHwAFAjE5ZGQCAQ8PFgIfAAULMjAxNy0yMDE4LjFkZAICDw8WAh8ABS7mr5XkuJrorr7orqHorrrmlocgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGQCAw8PFgIfAAUKICAgICAgICAgIGRkAgQPDxYCHwAFFDB8MHwwfDEw5ZGoICAgICAgICAgZGQCBQ8PFgIfAAUKICAgICAgICAgIGRkAgYPDxYCHwAFFCAgICAgICAgICAgICAgICAgICAgZGQCBw8PFgIfAGVkZAIJDw8WAh8ABQYmbmJzcDtkZAIKDw8WAh8ABQUyOTY2NmRkAhQPZBYUZg8PFgIfAAUCMjBkZAIBDw8WAh8ABQsyMDE3LTIwMTguMWRkAgIPDxYCHwAFLOaImOeVpeeuoeeQhiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGQCAw8PFgIfAAUKICAgICAgICAgIGRkAgQPDxYCHwAFEzMyfDB8MHwwICAgICAgICAgICBkZAIFDw8WAh8ABQogICAgICAgICAgZGQCBg8PFgIfAAUUICAgICAgICAgICAgICAgICAgICBkZAIHDw8WAh8AZWRkAgkPDxYCHwAFBiZuYnNwO2RkAgoPDxYCHwAFBTI5Njc0ZGQCFQ9kFhRmDw8WAh8ABQIyMWRkAgEPDxYCHwAFCzIwMTctMjAxOC4xZGQCAg8PFgIfAAUs5LiT6aKY6K6y5bqnICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZAIDDw8WAh8ABQogICAgICAgICAgZGQCBA8PFgIfAAUTMTJ8MHwwfDAgICAgICAgICAgIGRkAgUPDxYCHwAFCiAgICAgICAgICBkZAIGDw8WAh8ABRQgICAgICAgICAgICAgICAgICAgIGRkAgcPDxYCHwBlZGQCCQ8PFgIfAAUGJm5ic3A7ZGQCCg8PFgIfAAUFMjk2ODhkZAIFDw8WAh8ABQEwZGQCBg8PFgIfAAWOAeW9k%2BWJjeWtpuacnzoyMDE1LTIwMTYuMSgyMDE1LTA5LTA36IezMjAxNi0wMS0xNynmnKzlkajkuLrnrKwxMyAg5ZGoICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfOePreS4u%2BS7uzrpq5jmhacoNjQ0ODAwMjItMTEwNSlkZGSPZN5bzNEkjdn1TlrS%2Boj%2BVWn%2BeCoK1uyuLtXTeAPxQA%3D%3D&_ctl0%3Ahid='
    url = 'http://www.sjtuce.net/xxpt/jrJxpjStuCj.aspx'
    cookie = getlogincookie(user,password)
    opener = urllib2.build_opener(urllib2.HTTPCookieProcessor(cookie))
    urllib2.install_opener(opener)
    req = urllib2.urlopen(url,postdata)
    contents = req.read()
    soup = BeautifulSoup(contents,'lxml')
    kqdirc = {}
    tmp = soup.find_all('table',{'id':'_ctl0_MainContent_Datagrid1'})
    for td in tmp[0].find_all('td'):
        title = td.attrs.get('title')
        if title:
            kqdate = "".join(title.encode('utf-8').split(',')[2].split('.'))
        img = td.find(name='img')
        if img:
            kqstat = img.attrs.get('src').split('/')[1].split('\.')[0].split('.')[0]
            kqdirc[kqdate] = kqstat
    return kqdirc


getst()